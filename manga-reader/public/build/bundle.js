var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,a;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function l(e,t,n,r){if(e){const o=f(e,t,n,r);return e[0](o)}}function f(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function u(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function d(e,t,n,r,o,i){if(o){const s=f(t,n,r,i);e.p(s,o)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function p(t){return t&&o(t.destroy)?t.destroy:e}function h(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function b(){return v(" ")}function $(){return v("")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function k(e){return function(t){return t.preventDefault(),e.call(this,t)}}function z(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function E(e,t,n){e.classList[n?"add":"remove"](t)}function L(e){a=e}function A(e){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_destroy.push(e)}function S(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const B=[],_=[],O=[],M=[],P=Promise.resolve();let F=!1;function I(e){O.push(e)}function U(e){M.push(e)}const j=new Set;let N=0;function R(){const e=a;do{for(;N<B.length;){const e=B[N];N++,L(e),T(e.$$)}for(L(null),B.length=0,N=0;_.length;)_.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];j.has(t)||(j.add(t),t())}O.length=0}while(B.length);for(;M.length;)M.pop()();F=!1,j.clear(),L(e)}function T(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(I)}}const C=new Set;let D;function q(){D={r:0,c:[],p:D}}function W(){D.r||r(D.c),D=D.p}function H(e,t){e&&e.i&&(C.delete(e),e.i(t))}function Y(e,t,n,r){if(e&&e.o){if(C.has(e))return;C.add(e),D.c.push((()=>{C.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const X="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function G(e,t){Y(e,1,1,(()=>{t.delete(e.key)}))}function Q(e,t,n,r,o,i,s,a,c,l,f,u){let d=e.length,m=i.length,p=d;const h={};for(;p--;)h[e[p].key]=p;const g=[],w=new Map,y=new Map;for(p=m;p--;){const e=u(o,i,p),a=n(e);let c=s.get(a);c?r&&c.p(e,t):(c=l(a,e),c.c()),w.set(a,g[p]=c),a in h&&y.set(a,Math.abs(p-h[a]))}const v=new Set,b=new Set;function $(e){H(e,1),e.m(a,f),s.set(e.key,e),f=e.first,m--}for(;d&&m;){const t=g[m-1],n=e[d-1],r=t.key,o=n.key;t===n?(f=t.first,d--,m--):w.has(o)?!s.has(r)||v.has(r)?$(t):b.has(o)?d--:y.get(r)>y.get(o)?(b.add(r),$(t)):(v.add(o),d--):(c(n,s),d--)}for(;d--;){const t=e[d];w.has(t.key)||c(t,s)}for(;m;)$(g[m-1]);return g}function J(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function K(e){e&&e.c()}function V(e,n,i,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:f}=e.$$;a&&a.m(n,i),s||I((()=>{const n=c.map(t).filter(o);l?l.push(...n):r(n),e.$$.on_mount=[]})),f.forEach(I)}function Z(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ee(e,t){-1===e.$$.dirty[0]&&(B.push(e),F||(F=!0,P.then(R)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(t,o,i,s,c,l,f,u=[-1]){const d=a;L(t);const m=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:u,skip_bound:!1,root:o.target||d.$$.root};f&&f(m.root);let p=!1;if(m.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&c(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),p&&ee(t,e)),n})):[],m.update(),p=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);m.fragment&&m.fragment.l(e),e.forEach(w)}else m.fragment&&m.fragment.c();o.intro&&H(t.$$.fragment),V(t,o.target,o.anchor,o.customElement),R()}L(d)}class ne{$destroy(){Z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function re(t){let n,o,i,s,a,c,l;return{c(){n=y("div"),o=y("h4"),o.textContent="Install",i=b(),s=y("button"),s.innerHTML="<span>×</span>",a=v("\r\n    Click here to install the app for more features!"),z(o,"class","alert-heading"),z(s,"class","close"),z(s,"type","button"),z(n,"class","alert alert-success filled-dm show svelte-1qjuqpq")},m(e,r){g(e,n,r),h(n,o),h(n,i),h(n,s),h(n,a),c||(l=[x(s,"click",t[2]),x(n,"click",t[1])],c=!0)},p:e,d(e){e&&w(n),c=!1,r(l)}}}function oe(t){let n,r=t[0]&&re(t);return{c(){r&&r.c(),n=$()},m(e,t){r&&r.m(e,t),g(e,n,t)},p(e,[t]){e[0]?r?r.p(e,t):(r=re(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&w(n)}}}function ie(e,t,n){let r;return window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),n(0,r=e)})),[r,async function(){r.prompt();const{outcome:e}=await r.userChoice;"accepted"===e&&n(0,r=null)},function(){n(0,r=null)}]}class se extends ne{constructor(e){super(),te(this,e,ie,oe,i,{})}}const ae=new RegExp(`.(${["3g2","3gp","asf","avi","dv","flv","gxf","m2ts","m4a","m4b","m4p","m4r","m4v","mkv","mov","mp4","mpd","mpeg","mpg","mxf","nut","ogm","ogv","swf","ts","vob","webm","wmv","wtv"].join("|")})$`,"i"),ce=new RegExp(`.(${["srt","vtt","ass","ssa","sub","txt"].join("|")})$`,"i"),le=new RegExp(`.(${["3gp","3gpp","3g2","aac","adts","ac3","amr","eac3","flac","mp3","m4a","mp4","mp4a","mpga","mp2","mp2a","mp3","m2a","m3a","oga","ogg","mogg","spx","opus","raw","wav","weba"].join("|")})$`,"i"),fe=new RegExp(`.(${["apng","avif","bmp","gif","ico","jpg","jpeg","jfif","pjpeg","pjp","png","svg","tif","tiff","webp"].join("|")})$`,"i"),ue=new RegExp(`.(${["epub","cbr","cba","cbt","cbz","cb7","zip"].join("|")})$`,"i"),de=(new DOMParser).parseFromString.bind(new DOMParser);async function me(e=[],t=[]){const n=await Promise.all([...e].map((e=>async function(e,t){if(!e)return null;if(e.type){if(t.some((t=>0===e.type.indexOf(t))))return e.getAsFile();if("text/plain"===e.type){if("string"===e.kind){const n=await new Promise((t=>e.getAsString(t)));try{const e=new URL(n),r=t.find((e=>n.match(pe[e])));if(e&&r)return{url:n,name:n.substring(n.lastIndexOf("/")+1),type:r}}catch(e){}return null}if("file"===e.kind){const n=e.getAsFile();if(t.some((e=>n.name.match(pe[e]))))return n}return null}if("text/html"===e.type){const n=await new Promise((t=>e.getAsString(t))),r=t.map((e=>de(n,"text/html").querySelectorAll(he[e]||e))).flat();return r.length?r.map((e=>{const t=e.src||e.value;return t?{url:t,name:t.substring(t.lastIndexOf("/")+1)}:null})):null}}const n=e.webkitGetAsEntry();if(n?.isDirectory){const e=(await new Promise((e=>n.createReader().readEntries(e)))).filter((e=>e.isFile&&t.some((t=>e.name.match(pe[t]))))).map((e=>new Promise((t=>e.file(t)))));return Promise.all(e)}if(n?.isFile&&t.some((e=>n.name.match(pe[e]))))return new Promise((e=>n.file(e)))}(e,t))));return n.flat().filter((e=>e))}const pe={audio:le,video:ae,image:fe,subtitle:ce,book:ue},he={image:"img",subtitle:"input"};function ge(e){return e.arrayBuffer?e.arrayBuffer():new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))}async function we(e){const t=await ge(e);return new Uint8Array(t)}function ye(e){return"undefined"!=typeof Blob&&e instanceof Blob}function ve(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}const be="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class $e{constructor(e){this.typedArray=e instanceof ArrayBuffer||ve(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class xe{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const n=this.blob.slice(e,e+t),r=await ge(n);return new Uint8Array(r)}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function ke(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function ze(e,t,n,r,o,i){for(var s=Be,a=Oe,c=0;c<n;){var l=e[a(r,o)&t];o+=15&l;var f=l>>>4;if(f<=15)i[c]=f,c++;else{var u=0,d=0;16==f?(d=3+s(r,o,2),o+=2,u=i[c-1]):17==f?(d=3+s(r,o,3),o+=3):18==f&&(d=11+s(r,o,7),o+=7);for(var m=c+d;c<m;)i[c]=u,c++}}return o}function Ee(e,t,n,r){for(var o=0,i=0,s=r.length>>>1;i<n;){var a=e[i+t];r[i<<1]=0,r[1+(i<<1)]=a,a>o&&(o=a),i++}for(;i<s;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o}function Le(e,t){for(var n,r,o,i,s=e.length,a=Me.bl_count,c=0;c<=t;c++)a[c]=0;for(c=1;c<s;c+=2)a[e[c]]++;var l=Me.next_code;for(n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,l[r]=n;for(o=0;o<s;o+=2)0!=(i=e[o+1])&&(e[o]=l[i],l[i]++)}function Ae(e,t,n){for(var r=e.length,o=Me.rev15,i=0;i<r;i+=2)if(0!=e[i+1])for(var s=i>>1,a=e[i+1],c=s<<4|a,l=t-a,f=e[i]<<l,u=f+(1<<l);f!=u;){n[o[f]>>>15-t]=c,f++}}function Se(e,t){for(var n=Me.rev15,r=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>r}}function Be(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1}function _e(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1}function Oe(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}const Me=(Pe=Uint16Array,Fe=Uint32Array,{next_code:new Pe(16),bl_count:new Pe(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new Pe(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new Fe(32),flmap:new Pe(512),fltree:[],fdmap:new Pe(32),fdtree:[],lmap:new Pe(32768),ltree:[],ttree:[],dmap:new Pe(32768),dtree:[],imap:new Pe(512),itree:[],rev15:new Pe(32768),lhst:new Fe(286),dhst:new Fe(30),ihst:new Fe(19),lits:new Fe(15e3),strt:new Pe(65536),prev:new Pe(32768)});var Pe,Fe;!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,Me.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(e=0;e<32;e++)Me.ldef[e]=Me.of0[e]<<3|Me.exb[e],Me.ddef[e]=Me.df0[e]<<4|Me.dxb[e];n(Me.fltree,144,8),n(Me.fltree,112,9),n(Me.fltree,24,7),n(Me.fltree,8,8),Le(Me.fltree,9),Ae(Me.fltree,9,Me.flmap),Se(Me.fltree,9),n(Me.fdtree,32,5),Le(Me.fdtree,5),Ae(Me.fdtree,5,Me.fdmap),Se(Me.fdtree,5),n(Me.itree,19,0),n(Me.ltree,286,0),n(Me.dtree,30,0),n(Me.ttree,320,0)}();const Ie={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=Ie.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^Ie.update(4294967295,e,t,n)}};function Ue(e,t){return function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=_e,o=Be,i=ze,s=Oe,a=null==t;a&&(t=new n(e.length>>>2<<3));for(var c,l,f=0,u=0,d=0,m=0,p=0,h=0,g=0,w=0,y=0;0==f;)if(f=r(e,y,1),u=r(e,y+1,2),y+=3,0!=u){if(a&&(t=ke(t,w+(1<<17))),1==u&&(c=Me.flmap,l=Me.fdmap,h=511,g=31),2==u){d=o(e,y,5)+257,m=o(e,y+5,5)+1,p=o(e,y+10,4)+4,y+=14;for(var v=0;v<38;v+=2)Me.itree[v]=0,Me.itree[v+1]=0;var b=1;for(v=0;v<p;v++){var $=o(e,y+3*v,3);Me.itree[1+(Me.ordr[v]<<1)]=$,$>b&&(b=$)}y+=3*p,Le(Me.itree,b),Ae(Me.itree,b,Me.imap),c=Me.lmap,l=Me.dmap,y=i(Me.imap,(1<<b)-1,d+m,e,y,Me.ttree);var x=Ee(Me.ttree,0,d,Me.ltree);h=(1<<x)-1;var k=Ee(Me.ttree,d,m,Me.dtree);g=(1<<k)-1,Le(Me.ltree,x),Ae(Me.ltree,x,c),Le(Me.dtree,k),Ae(Me.dtree,k,l)}for(;;){var z=c[s(e,y)&h];y+=15&z;var E=z>>>4;if(E>>>8==0)t[w++]=E;else{if(256==E)break;var L=w+E-254;if(E>264){var A=Me.ldef[E-257];L=w+(A>>>3)+o(e,y,7&A),y+=7&A}var S=l[s(e,y)&g];y+=15&S;var B=S>>>4,_=Me.ddef[B],O=(_>>>4)+r(e,y,15&_);for(y+=15&_,a&&(t=ke(t,w+(1<<17)));w<L;)t[w]=t[w++-O],t[w]=t[w++-O],t[w]=t[w++-O],t[w]=t[w++-O];w=L}}}else{0!=(7&y)&&(y+=8-(7&y));var M=4+(y>>>3),P=e[M-4]|e[M-3]<<8;a&&(t=ke(t,w+P)),t.set(new n(e.buffer,e.byteOffset+M,P),w),y=M+P<<3,w+=P}return t.length==w?t:t.slice(0,w)}(e,t)}const je={numWorkers:1,workerURL:"",useWorkers:!1};let Ne=0;const Re=[];function Te(e){return new Promise(((t,n)=>{const r=new Worker(e);r.onmessage=e=>{"start"===e.data?(r.onerror=void 0,r.onmessage=void 0,t(r)):n(new Error(`unexpected message: ${e.data}`))},r.onerror=n}))}function Ce(e,t,n,r){const o=new Uint8Array(t);Ue(e,o),r(n?new Blob([o],{type:n}):o.buffer)}function De(e,t,n){return new Promise(((r,o)=>{Re.push({src:e,uncompressedSize:t,type:n,resolve:r,reject:o,id:Ne++}),async function(){if(0!==Re.length)for(;Re.length;){const{src:e,uncompressedSize:t,type:n,resolve:r}=Re.shift();let o=e;ye(e)&&(o=await we(e)),Ce(o,t,n,r)}}()}))}!function(){if(be){const{Worker:n}=(e=module,t="worker_threads",e.require(t));return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",(n=>{t({target:e,data:n})}))},async terminate(e){await e.terminate()}}}return{async createWorker(e){try{return await Te(e)}catch(t){console.warn("could not load worker:",e)}let t;try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`could not load: ${e}`);t=await n.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));const r=await Te(e);return je.workerURL=e,r}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;const n=await Te(e);return je.workerURL=e,n}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};var e,t}();class qe{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(n=t.lastModFileDate,r=t.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(e,t,n){const{decompress:r,fileDataStart:o}=await et(e,t);if(!r){const r=await He(e,o,t.compressedSize,n);return ye(r)?r:new Blob([ve(r.buffer)?new Uint8Array(r):r],{type:n})}const i=await He(e,o,t.compressedSize);return await De(i,t.uncompressedSize,n)}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:n,fileDataStart:r}=await et(e,t);if(!n){const n=await We(e,r,t.compressedSize);return 0===(o=n).byteOffset&&o.byteLength===o.buffer.byteLength?n.buffer:n.slice().buffer}var o;const i=await He(e,r,t.compressedSize);return await De(i,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return Ke(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}async function We(e,t,n){return await e.read(t,n)}async function He(e,t,n,r){return e.sliceAsBlob?await e.sliceAsBlob(t,n,r):await e.read(t,n)}const Ye={unsigned:()=>0};function Xe(e,t){return e[t]+256*e[t+1]}function Ge(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function Qe(e,t){return Ge(e,t)+4294967296*Ge(e,t+4)}const Je=new TextDecoder;function Ke(e,t){return ve(e.buffer)&&(e=new Uint8Array(e)),Je.decode(e)}async function Ve(e,t,n,r){const o=t-20,i=await We(e,o,20);if(117853008!==Ge(i,0))throw new Error("invalid zip64 end of central directory locator signature");const s=Qe(i,8),a=await We(e,s,56);if(101075792!==Ge(a,0))throw new Error("invalid zip64 end of central directory record signature");const c=Qe(a,32),l=Qe(a,40);return Ze(e,Qe(a,48),l,c,n,r)}async function Ze(e,t,n,r,o,i){let s=0;const a=await We(e,t,n),c=[];for(let e=0;e<r;++e){const e=a.subarray(s,s+46),t=Ge(e,0);if(33639248!==t)throw new Error(`invalid central directory file header signature: 0x${t.toString(16)}`);const n={versionMadeBy:Xe(e,4),versionNeededToExtract:Xe(e,6),generalPurposeBitFlag:Xe(e,8),compressionMethod:Xe(e,10),lastModFileTime:Xe(e,12),lastModFileDate:Xe(e,14),crc32:Ge(e,16),compressedSize:Ge(e,20),uncompressedSize:Ge(e,24),fileNameLength:Xe(e,28),extraFieldLength:Xe(e,30),fileCommentLength:Xe(e,32),internalFileAttributes:Xe(e,36),externalFileAttributes:Ge(e,38),relativeOffsetOfLocalHeader:Ge(e,42)};if(64&n.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const r=a.subarray(s,s+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=Ke(n.nameBytes);const o=n.fileNameLength+n.extraFieldLength,i=r.slice(n.fileNameLength,o);n.extraFields=[];let l=0;for(;l<i.length-3;){const e=Xe(i,l+0),t=l+4,r=t+Xe(i,l+2);if(r>i.length)throw new Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:e,data:i.slice(t,r)}),l=r}if(n.commentBytes=r.slice(o,o+n.fileCommentLength),n.comment=Ke(n.commentBytes),s+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){const e=n.extraFields.find((e=>1===e.id));if(!e)throw new Error("expected zip64 extended information extra field");const t=e.data;let r=0;if(4294967295===n.uncompressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=Qe(t,r),r+=8}if(4294967295===n.compressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include compressed size");n.compressedSize=Qe(t,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=Qe(t,r),r+=8}}const f=n.extraFields.find((e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&Ge(e.data,1)),Ye.unsigned(n.nameBytes));if(f&&(n.fileName=Ke(f.data.slice(5))),0===n.compressionMethod){let e=n.uncompressedSize;if(0!=(1&n.generalPurposeBitFlag)&&(e+=12),n.compressedSize!==e)throw new Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${e}`)}c.push(n)}return{zip:{comment:o,commentBytes:i},entries:c.map((t=>new qe(e,t)))}}async function et(e,t){if(1&t.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const n=await We(e,t.relativeOffsetOfLocalHeader,30),r=await e.getLength(),o=Ge(n,0);if(67324752!==o)throw new Error(`invalid local file header signature: 0x${o.toString(16)}`);const i=Xe(n,26),s=Xe(n,28),a=t.relativeOffsetOfLocalHeader+n.length+i+s;let c;if(0===t.compressionMethod)c=!1;else{if(8!==t.compressionMethod)throw new Error(`unsupported compression method: ${t.compressionMethod}`);c=!0}const l=a,f=l+t.compressedSize;if(0!==t.compressedSize&&f>r)throw new Error(`file data overflows file bounds: ${l} +  ${t.compressedSize}  > ${r}`);return{decompress:c,fileDataStart:l}}async function tt(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new xe(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new $e(e);else if(ve(e)||ve(e.buffer))t=new $e(e);else if("string"==typeof e){const n=await fetch(e);if(!n.ok)throw new Error(`failed http request ${e}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();t=new xe(r)}else{if("function"!=typeof e.getLength||"function"!=typeof e.read)throw new Error("unsupported source type");t=e}const n=await t.getLength();if(n>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(e,t){const n=Math.min(65557,t),r=t-n,o=await We(e,r,n);for(let t=n-22;t>=0;--t){if(101010256!==Ge(o,t))continue;const n=new Uint8Array(o.buffer,o.byteOffset+t,o.byteLength-t),i=Xe(n,4);if(0!==i)throw new Error(`multi-volume zip files are not supported. This is volume: ${i}`);const s=Xe(n,10),a=Ge(n,12),c=Ge(n,16),l=Xe(n,20),f=n.length-22;if(l!==f)throw new Error(`invalid comment length. expected: ${f}, actual: ${l}`);const u=new Uint8Array(n.buffer,n.byteOffset+22,l),d=Ke(u);return 65535===s||4294967295===c?await Ve(e,r+t,d,u):await Ze(e,c,a,s,d,u)}throw new Error("could not find end of central directory. maybe not zip file")}(t,n)}function nt(t){let n;return{c(){n=y("div"),n.textContent="There's no next page.",z(n,"class","d-flex align-items-center justify-content-center font-size-24 font-weight-bold w-full h-full")},m(e,t){g(e,n,t)},p:e,d(e){e&&w(n)}}}function rt(e){let t;function n(e,t){return"fit"!==e[0].mode?it:ot}let r=n(e),o=r(e);return{c(){o.c(),t=$()},m(e,n){o.m(e,n),g(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&w(t)}}}function ot(e){let t,n,o,i,s;return{c(){t=y("div"),n=y("img"),c(n.src,o=e[2])||z(n,"src",o),z(n,"alt","view"),z(n,"class","w-full h-full position-absolute svelte-1vatcdv"),E(n,"transition",e[3]),z(t,"class","w-full h-full overflow-hidden position-relative dragarea svelte-1vatcdv")},m(r,o){g(r,t,o),h(t,n),e[13](n),i||(s=[x(n,"load",e[9]),x(t,"pointerdown",e[4]),x(t,"pointerup",e[5]),x(t,"wheel",e[8],{passive:!0}),x(t,"touchend",e[5]),x(t,"touchstart",e[6]),x(t,"touchmove",e[7])],i=!0)},p(e,t){4&t&&!c(n.src,o=e[2])&&z(n,"src",o),8&t&&E(n,"transition",e[3])},d(n){n&&w(t),e[13](null),i=!1,r(s)}}}function it(e){let t,n;return{c(){t=y("img"),c(t.src,n=e[2])||z(t,"src",n),z(t,"alt","view"),z(t,"class","w-full svelte-1vatcdv")},m(e,n){g(e,t,n)},p(e,r){4&r&&!c(t.src,n=e[2])&&z(t,"src",n)},d(e){e&&w(t)}}}function st(t){let n;function r(e,t){return e[2]?rt:nt}let o=r(t),i=o(t);return{c(){i.c(),n=$()},m(e,t){i.m(e,t),g(e,n,t)},p(e,[t]){o===(o=r(e))&&i?i.p(e,t):(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&w(n)}}}function at(e,t,n){let{file:r=null}=t;A((()=>{URL.revokeObjectURL(s)}));let{options:o={}}=t,i=null,s=null,a=0,c=!0;const l={x:0,y:0},f={x:0,y:0},u={x:0,y:0};let d=l;function m(e){p||(u.x=f.x+e.clientX-l.x,u.y=f.y+e.clientY-l.y,n(11,d=u))}let p=!1;let h=0,g=0;let w=1;function y({deltaY:e}){if("fit"===o.mode){const t=-.01*e;t<0?(a<-4||(a-=.5),f.x/=1.5,f.y/=1.5):t>0&&!(a>11)&&(a+=.5,f.x*=1.5,f.y*=1.5),n(12,w=2**a),n(11,d=f)}}return e.$$set=e=>{"file"in e&&n(10,r=e.file),"options"in e&&n(0,o=e.options)},e.$$.update=()=>{1024&e.$$.dirty&&async function(e){if(!s&&e){const t=await e.blob();n(2,s=URL.createObjectURL(t))}}(r),1&e.$$.dirty&&(f.x=0,f.y=0,a=0,n(12,w=1),n(11,d=f)),6144&e.$$.dirty&&function({disPos:e,zoom:t}){i?.style.setProperty("transform",`scale(${t})`),i?.style.setProperty("--left",e.x+"px"),i?.style.setProperty("--top",e.y+"px")}({disPos:d,zoom:w})},[o,i,s,c,function(e){"fit"===o.mode&&(n(3,c=!1),l.x=e.clientX,l.y=e.clientY,n(1,i.onpointermove=m,i),e.pointerId&&i.setPointerCapture(e.pointerId))},function(e){i.onpointermove&&(n(3,c=!0),n(1,i.onpointermove=null,i),e.pointerId&&i.releasePointerCapture(e.pointerId),p?(p=!1,h=0):(f.x+=e.clientX-l.x,f.y+=e.clientY-l.y))},function({touches:e}){"fit"===o.mode&&2===e.length&&(p=!0,n(3,c=!0))},function({touches:e}){if(2===e.length&&!0===p){const t=h;h=Math.hypot(e[0].pageX-e[1].pageX,e[0].pageY-e[1].pageY),g+=t-h,(g>20||g<-20)&&(y({deltaY:g>0?100:-100}),g=0)}},y,function(e){},r,d,w,function(e){_[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class ct extends ne{constructor(e){super(),te(this,e,at,st,i,{file:10,options:0})}}function lt(e,t,n){const r=e.slice();return r[10]=t[n].item,r[11]=t[n].index,r}const ft=e=>({item:16&e}),ut=e=>({item:e[10]});function dt(e){let t,n,r=[],o=new Map,i=e[4];const s=e=>e[11];for(let t=0;t<i.length;t+=1){let n=lt(e,i,t),a=s(n);o.set(a,r[t]=mt(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);g(e,t,o),n=!0},p(e,n){285&n&&(i=e[4],q(),r=Q(r,n,s,1,e,i,o,t.parentNode,G,mt,t,lt),W())},i(e){if(!n){for(let e=0;e<i.length;e+=1)H(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)Y(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&w(t)}}}function mt(e,t){let n,r,i,s,a,c;const f=t[9].default,v=l(f,t,t[8],ut);return{key:e,first:null,c(){n=y("div"),v&&v.c(),r=b(),z(n,"class","item w-full h-full overflow-y-auto svelte-ym67ze"),E(n,"prev",t[2]),E(n,"next",t[3]),this.first=n},m(e,o){g(e,n,o),v&&v.m(n,null),h(n,r),s=!0,a||(c=p(i=ht.call(null,n,t[0]===t[11])),a=!0)},p(e,r){t=e,v&&v.p&&(!s||272&r)&&d(v,f,t,t[8],s?u(f,t[8],r,ft):m(t[8]),ut),i&&o(i.update)&&17&r&&i.update.call(null,t[0]===t[11]),4&r&&E(n,"prev",t[2]),8&r&&E(n,"next",t[3])},i(e){s||(H(v,e),s=!0)},o(e){Y(v,e),s=!1},d(e){e&&w(n),v&&v.d(e),a=!1,c()}}}function pt(e){let t,n,r=e[1]&&dt(e);return{c(){t=y("div"),r&&r.c(),z(t,"class","h-full d-flex flex-row-reverse overflow-x-hidden")},m(e,o){g(e,t,o),r&&r.m(t,null),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&H(r,1)):(r=dt(e),r.c(),H(r,1),r.m(t,null)):r&&(q(),Y(r,1,1,(()=>{r=null})),W())},i(e){n||(H(r),n=!0)},o(e){Y(r),n=!1},d(e){e&&w(t),r&&r.d()}}}function ht(e){return{update(t){t&&e.focus()}}}function gt(e,t,n){let r,o,{$$slots:i={},$$scope:s}=t,{currentIndex:a=0}=t,{items:c=[]}=t,l=!1,f=!1;return e.$$set=e=>{"currentIndex"in e&&n(0,a=e.currentIndex),"items"in e&&n(5,c=e.items),"$$scope"in e&&n(8,s=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(1,r=c.length),35&e.$$.dirty&&n(4,o=[-1,0,1].map((e=>a+e<=r?{item:c[a+e],index:a+e}:{item:!1})).filter((e=>!1!==e.item)))},[a,r,l,f,o,c,function(){!f&&!l&&a<r&&(n(3,f=!0),setTimeout((()=>{n(0,a+=1),n(3,f=!1)}),200))},function(){!f&&!l&&a>0&&(n(2,l=!0),setTimeout((()=>{n(0,a-=1),n(2,l=!1)}),200))},s,i]}class wt extends ne{constructor(e){super(),te(this,e,gt,pt,i,{currentIndex:0,items:5,gotoNext:6,gotoPrev:7})}get gotoNext(){return this.$$.ctx[6]}get gotoPrev(){return this.$$.ctx[7]}}function yt(e,t,n){const r=e.slice();return r[10]=t[n].item,r[11]=t[n].index,r}const vt=e=>({item:4&e}),bt=e=>({item:e[10]});function $t(e){let t,n,r=[],o=new Map,i=e[2];const s=e=>e[11];for(let t=0;t<i.length;t+=1){let n=yt(e,i,t),a=s(n);o.set(a,r[t]=xt(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);g(e,t,o),n=!0},p(e,n){68&n&&(i=e[2],q(),r=Q(r,n,s,1,e,i,o,t.parentNode,G,xt,t,yt),W())},i(e){if(!n){for(let e=0;e<i.length;e+=1)H(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)Y(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&w(t)}}}function xt(e,t){let n,r,o,i,s;const a=t[7].default,c=l(a,t,t[6],bt);return{key:e,first:null,c(){n=y("div"),c&&c.c(),r=b(),z(n,"class","w-full"),this.first=n},m(e,a){g(e,n,a),c&&c.m(n,null),h(n,r),o=!0,i||(s=p(t[3].call(null,n)),i=!0)},p(e,n){t=e,c&&c.p&&(!o||68&n)&&d(c,a,t,t[6],o?u(a,t[6],n,vt):m(t[6]),bt)},i(e){o||(H(c,e),o=!0)},o(e){Y(c,e),o=!1},d(e){e&&w(n),c&&c.d(e),i=!1,s()}}}function kt(e){let t,n,r=e[0].length&&$t(e);return{c(){t=y("div"),r&&r.c(),z(t,"class","h-full d-flex flex-column overflow-x-hidden overflow-y-auto")},m(o,i){g(o,t,i),r&&r.m(t,null),e[8](t),n=!0},p(e,[n]){e[0].length?r?(r.p(e,n),1&n&&H(r,1)):(r=$t(e),r.c(),H(r,1),r.m(t,null)):r&&(q(),Y(r,1,1,(()=>{r=null})),W())},i(e){n||(H(r),n=!0)},o(e){Y(r),n=!1},d(n){n&&w(t),r&&r.d(),e[8](null)}}}function zt(e,t,n){let r,{$$slots:o={},$$scope:i}=t,s={},{items:a=[]}=t,{currentIndex:c=0}=t,l=1;const f=new IntersectionObserver((e=>{const t=[...s.children];for(const r of e){const e=t.indexOf(r.target);r.isIntersecting?(0===e&&n(4,c=Math.max(0,c-1)),e===t.length-1&&n(5,++l)):(t.length>2&&1===e&&n(4,++c),e>1&&e!==t.length-1&&n(5,l=Math.max(1,l-1)))}}));return e.$$set=e=>{"items"in e&&n(0,a=e.items),"currentIndex"in e&&n(4,c=e.currentIndex),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{49&e.$$.dirty&&n(2,r=a.slice(c,c+l).map((e=>({index:a.indexOf(e),item:e}))))},[a,s,r,function(e){return f.observe(e),{destroy(){f.unobserve(e)}}},c,l,i,o,function(e){_[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class Et extends ne{constructor(e){super(),te(this,e,zt,kt,i,{items:0,currentIndex:4})}}const{window:Lt}=X;function At(e){let t,n,r,o,i;function s(t){e[16](t)}function a(t){e[17](t)}function c(t){e[18](t)}let l={items:e[1],$$slots:{default:[Bt,({item:e})=>({26:e}),({item:e})=>e?67108864:0]},$$scope:{ctx:e}};return void 0!==e[4]&&(l.gotoNext=e[4]),void 0!==e[5]&&(l.gotoPrev=e[5]),void 0!==e[6]&&(l.currentIndex=e[6]),t=new wt({props:l}),_.push((()=>J(t,"gotoNext",s))),_.push((()=>J(t,"gotoPrev",a))),_.push((()=>J(t,"currentIndex",c))),{c(){K(t.$$.fragment)},m(e,n){V(t,e,n),i=!0},p(e,i){const s={};2&i&&(s.items=e[1]),201326596&i&&(s.$$scope={dirty:i,ctx:e}),!n&&16&i&&(n=!0,s.gotoNext=e[4],U((()=>n=!1))),!r&&32&i&&(r=!0,s.gotoPrev=e[5],U((()=>r=!1))),!o&&64&i&&(o=!0,s.currentIndex=e[6],U((()=>o=!1))),t.$set(s)},i(e){i||(H(t.$$.fragment,e),i=!0)},o(e){Y(t.$$.fragment,e),i=!1},d(e){Z(t,e)}}}function St(e){let t,n,r;function o(t){e[15](t)}let i={items:e[1],$$slots:{default:[_t,({item:e})=>({26:e}),({item:e})=>e?67108864:0]},$$scope:{ctx:e}};return void 0!==e[6]&&(i.currentIndex=e[6]),t=new Et({props:i}),_.push((()=>J(t,"currentIndex",o))),{c(){K(t.$$.fragment)},m(e,n){V(t,e,n),r=!0},p(e,r){const o={};2&r&&(o.items=e[1]),201326596&r&&(o.$$scope={dirty:r,ctx:e}),!n&&64&r&&(n=!0,o.currentIndex=e[6],U((()=>n=!1))),t.$set(o)},i(e){r||(H(t.$$.fragment,e),r=!0)},o(e){Y(t.$$.fragment,e),r=!1},d(e){Z(t,e)}}}function Bt(e){let t,n;return t=new ct({props:{file:e[26],options:e[2]}}),{c(){K(t.$$.fragment)},m(e,r){V(t,e,r),n=!0},p(e,n){const r={};67108864&n&&(r.file=e[26]),4&n&&(r.options=e[2]),t.$set(r)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){Y(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function _t(e){let t,n;return t=new ct({props:{file:e[26],options:e[2]}}),{c(){K(t.$$.fragment)},m(e,r){V(t,e,r),n=!0},p(e,n){const r={};67108864&n&&(r.file=e[26]),4&n&&(r.options=e[2]),t.$set(r)},i(e){n||(H(t.$$.fragment,e),n=!0)},o(e){Y(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Ot(e){let t,n,i,s,a,c;return{c(){t=y("div"),n=y("button"),n.textContent="arrow_back",i=b(),s=y("button"),s.textContent="arrow_forward",z(n,"class","btn btn-lg btn-square material-icons"),z(n,"type","button"),z(s,"class","btn btn-lg btn-square material-icons"),z(s,"type","button"),z(t,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto")},m(r,l){g(r,t,l),h(t,n),h(t,i),h(t,s),a||(c=[x(n,"click",(function(){o(e[4])&&e[4].apply(this,arguments)})),x(s,"click",(function(){o(e[5])&&e[5].apply(this,arguments)}))],a=!0)},p(t,n){e=t},d(e){e&&w(t),a=!1,r(c)}}}function Mt(e){let t,n,o,i,s,a,c,l,f,u,d,m,p,$,L,A,S,B,_,O,M,P,F,I=e[2].crop?"crop":"crop_free";n=new se({});const U=[St,At],j=[];function N(e,t){return"vertical"===e[2].mode?0:1}i=N(e),s=j[i]=U[i](e);let R="vertical"!==e[2].mode&&Ot(e);return document.title=O=e[0],{c(){t=y("div"),K(n.$$.fragment),o=b(),s.c(),a=b(),c=y("div"),R&&R.c(),l=b(),f=y("div"),u=y("button"),u.textContent="zoom_out_map",d=b(),m=y("button"),m.textContent="expand",p=b(),$=y("button"),$.textContent="height",L=b(),A=y("div"),S=y("button"),B=v(I),_=b(),z(t,"class","sticky-alerts d-flex flex-column-reverse svelte-1x2rqc2"),z(u,"class","btn btn-lg btn-square material-icons"),z(u,"type","button"),z(m,"class","btn btn-lg btn-square material-icons"),z(m,"type","button"),z($,"class","btn btn-lg btn-square material-icons"),z($,"type","button"),z(f,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto"),z(S,"class","btn btn-lg btn-square material-icons"),z(S,"type","button"),z(A,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto"),z(c,"class","position-absolute buttons row w-full justify-content-center controls svelte-1x2rqc2"),E(c,"immersed",e[3])},m(r,s){g(r,t,s),V(n,t,null),g(r,o,s),j[i].m(r,s),g(r,a,s),g(r,c,s),R&&R.m(c,null),h(c,l),h(c,f),h(f,u),h(f,d),h(f,m),h(f,p),h(f,$),h(c,L),h(c,A),h(A,S),h(S,B),g(r,_,s),M=!0,P||(F=[x(Lt,"drop",k(e[7])),x(Lt,"dragenter",k(e[11])),x(Lt,"dragover",k(e[12])),x(Lt,"dragstart",k(e[13])),x(Lt,"dragleave",k(e[14])),x(Lt,"paste",k(e[7])),x(Lt,"keydown",e[10]),x(Lt,"mousemove",e[9]),x(Lt,"touchmove",e[9]),x(Lt,"mouseleave",e[8]),x(u,"click",e[19]),x(m,"click",e[20]),x($,"click",e[21]),x(S,"click",e[22])],P=!0)},p(e,[t]){let n=i;i=N(e),i===n?j[i].p(e,t):(q(),Y(j[n],1,1,(()=>{j[n]=null})),W(),s=j[i],s?s.p(e,t):(s=j[i]=U[i](e),s.c()),H(s,1),s.m(a.parentNode,a)),"vertical"!==e[2].mode?R?R.p(e,t):(R=Ot(e),R.c(),R.m(c,l)):R&&(R.d(1),R=null),(!M||4&t)&&I!==(I=e[2].crop?"crop":"crop_free")&&function(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}(B,I),8&t&&E(c,"immersed",e[3]),(!M||1&t)&&O!==(O=e[0])&&(document.title=O)},i(e){M||(H(n.$$.fragment,e),H(s),M=!0)},o(e){Y(n.$$.fragment,e),Y(s),M=!1},d(e){e&&w(t),Z(n),e&&w(o),j[i].d(e),e&&w(a),e&&w(c),R&&R.d(),e&&w(_),P=!1,r(F)}}}function Pt(e,t,n){let r="Manga Reader",o=[],i={mode:"cover",crop:!0,pad:!1};async function s(e){e?.length&&(n(1,o=Object.values((await async function(e){const{zip:t,entries:n}=await tt(e);return{zip:t,entries:Object.fromEntries(n.map((e=>[e.name,e])))}}(e[0])).entries).filter((e=>!e.isDirectory))),n(0,r=e[0].name.match(/([^-–]+)/)[0].trim()),n(6,d=0))}navigator.serviceWorker.register("/sw.js"),"launchQueue"in window&&async function(){return new Promise((e=>{launchQueue.setConsumer((async t=>{if(!t.files.length)return;const n=t.files.map((e=>e.getFile()));e((await Promise.all(n)).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name&&t.size===e.size&&t.lastModified===e.lastModified))===t)))}))}))}().then(s),s(function(e){const t=[...new URLSearchParams(location.search)];if(!t.length)return null;const n=[];for(const r of t)if(e.find((e=>r[1].match(pe[e])))){const e=r[1].substring(Math.max(r[1].lastIndexOf("\\")+2,r[1].lastIndexOf("/")+1));n.push({name:e,url:r[1]})}return n}(["book"]));let a,c,l=!1,f=null;function u(){n(3,l=!0),f=void 0}let d=0;return[r,o,i,l,a,c,d,async function({dataTransfer:e,clipboardData:t}){const n=t?.items||e?.items;n&&s(await me(n,["book"]))},u,function(){f?clearTimeout(f):n(3,l=!1),f=setTimeout(u,2e3)},async function({key:e}){switch(e){case"ArrowLeft":a();break;case"ArrowRight":c()}},function(t){S.call(this,e,t)},function(t){S.call(this,e,t)},function(t){S.call(this,e,t)},function(t){S.call(this,e,t)},function(e){d=e,n(6,d)},function(e){a=e,n(4,a)},function(e){c=e,n(5,c)},function(e){d=e,n(6,d)},()=>n(2,i.mode="fit",i),()=>n(2,i.mode="cover",i),()=>n(2,i.mode="vertical",i),()=>n(2,i.crop=!i.crop,i)]}return new class extends ne{constructor(e){super(),te(this,e,Pt,Mt,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
