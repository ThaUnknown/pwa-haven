var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,a;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function l(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function f(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function d(e,t,n,r,o,i){if(o){const s=u(t,n,r,i);e.p(s,o)}}function m(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function p(t){return t&&o(t.destroy)?t.destroy:e}function h(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function b(e){return document.createTextNode(e)}function v(){return b(" ")}function $(){return b("")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function k(e){return function(t){return t.preventDefault(),e.call(this,t)}}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function z(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function L(e,t,n){e.classList[n?"add":"remove"](t)}function A(e){a=e}function S(e){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_destroy.push(e)}function P(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const F=[],M=[],_=[],B=[],O=Promise.resolve();let j=!1;function I(e){_.push(e)}function U(e){B.push(e)}const R=new Set;let N=0;function C(){const e=a;do{for(;N<F.length;){const e=F[N];N++,A(e),D(e.$$)}for(A(null),F.length=0,N=0;M.length;)M.pop()();for(let e=0;e<_.length;e+=1){const t=_[e];R.has(t)||(R.add(t),t())}_.length=0}while(F.length);for(;B.length;)B.pop()();j=!1,R.clear(),A(e)}function D(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(I)}}const T=new Set;let q;function H(){q={r:0,c:[],p:q}}function Y(){q.r||r(q.c),q=q.p}function W(e,t){e&&e.i&&(T.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(T.has(e))return;T.add(e),q.c.push((()=>{T.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const G="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(e,t){X(e,1,1,(()=>{t.delete(e.key)}))}function J(e,t,n,r,o,i,s,a,c,l,u,f){let d=e.length,m=i.length,p=d;const h={};for(;p--;)h[e[p].key]=p;const g=[],w=new Map,y=new Map;for(p=m;p--;){const e=f(o,i,p),a=n(e);let c=s.get(a);c?r&&c.p(e,t):(c=l(a,e),c.c()),w.set(a,g[p]=c),a in h&&y.set(a,Math.abs(p-h[a]))}const b=new Set,v=new Set;function $(e){W(e,1),e.m(a,u),s.set(e.key,e),u=e.first,m--}for(;d&&m;){const t=g[m-1],n=e[d-1],r=t.key,o=n.key;t===n?(u=t.first,d--,m--):w.has(o)?!s.has(r)||b.has(r)?$(t):v.has(o)?d--:y.get(r)>y.get(o)?(v.add(r),$(t)):(b.add(o),d--):(c(n,s),d--)}for(;d--;){const t=e[d];w.has(t.key)||c(t,s)}for(;m;)$(g[m-1]);return g}function V(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function K(e){e&&e.c()}function Z(e,n,i,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=e.$$;a&&a.m(n,i),s||I((()=>{const n=c.map(t).filter(o);l?l.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(I)}function ee(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function te(e,t){-1===e.$$.dirty[0]&&(F.push(e),j||(j=!0,O.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(t,o,i,s,c,l,u,f=[-1]){const d=a;A(t);const m=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};u&&u(m.root);let p=!1;if(m.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return m.ctx&&c(m.ctx[e],m.ctx[e]=o)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](o),p&&te(t,e)),n})):[],m.update(),p=!0,r(m.before_update),m.fragment=!!s&&s(m.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);m.fragment&&m.fragment.l(e),e.forEach(w)}else m.fragment&&m.fragment.c();o.intro&&W(t.$$.fragment),Z(t,o.target,o.anchor,o.customElement),C()}A(d)}class re{$destroy(){ee(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function oe(t){let n,o,i,s,a,c,l;return{c(){n=y("div"),o=y("h4"),o.textContent="Install",i=v(),s=y("button"),s.innerHTML="<span>×</span>",a=b("\r\n    Click here to install the app for more features!"),E(o,"class","alert-heading"),E(s,"class","close"),E(s,"type","button"),E(n,"class","alert alert-success filled-dm show svelte-1qjuqpq")},m(e,r){g(e,n,r),h(n,o),h(n,i),h(n,s),h(n,a),c||(l=[x(s,"click",t[2]),x(n,"click",t[1])],c=!0)},p:e,d(e){e&&w(n),c=!1,r(l)}}}function ie(t){let n,r=t[0]&&oe(t);return{c(){r&&r.c(),n=$()},m(e,t){r&&r.m(e,t),g(e,n,t)},p(e,[t]){e[0]?r?r.p(e,t):(r=oe(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&w(n)}}}function se(e,t,n){let r;return window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),n(0,r=e)})),[r,async function(){r.prompt();const{outcome:e}=await r.userChoice;"accepted"===e&&n(0,r=null)},function(){n(0,r=null)}]}class ae extends re{constructor(e){super(),ne(this,e,se,ie,i,{})}}const ce=["3g2","3gp","asf","avi","dv","flv","gxf","m2ts","m4a","m4b","m4p","m4r","m4v","mkv","mov","mp4","mpd","mpeg","mpg","mxf","nut","ogm","ogv","swf","ts","vob","webm","wmv","wtv"],le=new RegExp(`.(${ce.join("|")})$`,"i"),ue=["srt","vtt","ass","ssa","sub","txt"],fe=new RegExp(`.(${ue.join("|")})$`,"i"),de=["3gp","3gpp","3g2","aac","adts","ac3","amr","eac3","flac","mp3","m4a","mp4","mp4a","mpga","mp2","mp2a","mp3","m2a","m3a","oga","ogg","mogg","spx","opus","raw","wav","weba"],me=new RegExp(`.(${de.join("|")})$`,"i"),pe=["apng","avif","bmp","gif","ico","jpg","jpeg","jfif","pjpeg","pjp","png","svg","tif","tiff","webp"],he=new RegExp(`.(${pe.join("|")})$`,"i"),ge=["epub","cbr","cba","cbt","cbz","cb7","zip"],we=new RegExp(`.(${ge.join("|")})$`,"i"),ye=(new DOMParser).parseFromString.bind(new DOMParser);function be(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function ve(e,t){const n=(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var t=function(){return indexedDB.databases().finally(e)};r=setInterval(t,100),t()})).finally((function(){return clearInterval(r)})):Promise.resolve()).then((()=>{const n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),be(n)}));var r;return(e,r)=>n.then((n=>r(n.transaction(t,e).objectStore(t))))}let $e;function xe(){return $e||($e=ve("keyval-store","keyval")),$e}function ke(e,t,n){const r=e.slice();return r[4]=t[n],r}function Ee(t){let n;return{c(){n=y("div"),n.textContent="Your browser doesn't support recent files."},m(e,t){g(e,n,t)},p:e,d(e){e&&w(n)}}}function ze(t){let n;return{c(){n=y("div"),n.innerHTML='Your browser doesn&#39;t support recent files, but it could! Visit <code class="code">chrome://flags</code> and enable <code class="code">#file-system-access-api!</code>'},m(e,t){g(e,n,t)},p:e,d(e){e&&w(n)}}}function Le(e){let t,n=e[1],r=[];for(let t=0;t<n.length;t+=1)r[t]=Se(ke(e,n,t));let o=null;return n.length||(o=Ae()),{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$(),o&&o.c()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);g(e,t,n),o&&o.m(e,n)},p(e,i){if(6&i){let s;for(n=e[1],s=0;s<n.length;s+=1){const o=ke(e,n,s);r[s]?r[s].p(o,i):(r[s]=Se(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length,n.length?o&&(o.d(1),o=null):o||(o=Ae(),o.c(),o.m(t.parentNode,t))}},d(e){!function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(r,e),e&&w(t),o&&o.d(e)}}}function Ae(e){let t;return{c(){t=y("div"),t.textContent="Your recent files will show up here!",E(t,"class","ml-5 p-5")},m(e,n){g(e,t,n)},d(e){e&&w(t)}}}function Se(e){let t,n,r,i,s,a,c=e[4].name+"";return{c(){t=y("div"),n=y("div"),r=b(c),i=v(),E(n,"class","ml-5"),E(t,"class","p-5 pointer text-muted hover svelte-1hv3hh2")},m(c,l){g(c,t,l),h(t,n),h(n,r),h(t,i),s||(a=x(t,"click",(function(){o(e[2](e[4]))&&e[2](e[4]).apply(this,arguments)})),s=!0)},p(t,n){e=t,2&n&&c!==(c=e[4].name+"")&&z(r,c)},d(e){e&&w(t),s=!1,a()}}}function Pe(t){let n,r,i,s,a,c,l,u,f,d,m,p;let b=(Fe?Le:window.chrome?ze:Ee)(t);return{c(){n=y("div"),r=y("div"),i=y("div"),s=y("div"),s.textContent="Recent Files",a=v(),c=y("hr"),l=v(),u=y("div"),b.c(),f=v(),d=y("div"),d.textContent="You can also drag-drop or paste files, or click here to select some!",E(s,"class","font-weight-bold font-size-24 p-5"),E(c,"class","w-full my-15"),E(u,"class","overflow-y-auto"),E(d,"class","py-20 pointer text-muted hover mt-auto svelte-1hv3hh2"),E(i,"class","p-20 d-flex flex-column h-full"),E(r,"class","container h-full p-20"),E(n,"class","h-full my-0 bg-very-dark")},m(e,w){g(e,n,w),h(n,r),h(r,i),h(i,s),h(i,a),h(i,c),h(i,l),h(i,u),b.m(u,null),h(i,f),h(i,d),m||(p=x(d,"click",(function(){o(t[0])&&t[0].apply(this,arguments)})),m=!0)},p(e,[n]){t=e,b.p(t,n)},i:e,o:e,d(e){e&&w(n),b.d(),m=!1,p()}}}const Fe="FileSystemFileHandle"in window;let Me=null;async function _e(){Be=await function(e,t=xe()){return t("readonly",(t=>be(t.get(e))))}("recents",Me)||[]}let Be=[];async function Oe(e){if(Fe&&Me&&e?.length){const t=e.map((e=>e instanceof FileSystemFileHandle?e:e.getAsFileSystemHandle())).filter((e=>e instanceof FileSystemFileHandle||e instanceof File));if(!t.length)return null;const n=await Promise.all(t);await _e(),Be=await(async(e,t)=>{const n=await Promise.all(e.map(t));return e.filter(((e,t)=>n[t]))})(Be,(async e=>!await(async(e,t)=>{for(const n of e)if(await t(n))return!0;return!1})(n,(t=>t.isSameEntry(e))))),Be.unshift(...n),Be.length=Math.min(Be.length,15),function(e,t,n=xe()){n("readwrite",(n=>(n.put(t,e),be(n.transaction))))}("recents",Be,Me)}}function je(e,t,n){let{files:r=null}=t,o=[];_e().then((()=>{n(1,o=Be)}));let{handlePopup:i=(()=>{})}=t;return e.$$set=e=>{"files"in e&&n(3,r=e.files),"handlePopup"in e&&n(0,i=e.handlePopup)},[i,o,async function(e){Oe([e]),await e.requestPermission({mode:"read"}),n(3,r=[await e.getFile()])},r]}class Ie extends re{constructor(e){super(),ne(this,e,je,Pe,i,{files:3,handlePopup:0})}}async function Ue(e=[],t=[]){const n=await Promise.all([...e].map((e=>async function(e,t){if(!e)return null;if(e.type){if(t.some((t=>0===e.type.indexOf(t))))return Oe([e]),e.getAsFile();if("text/plain"===e.type){if("string"===e.kind){const n=await new Promise((t=>e.getAsString(t)));try{const e=new URL(n),r=t.find((e=>n.match(Re[e])));if(e&&r)return{url:n,name:n.substring(n.lastIndexOf("/")+1),type:r}}catch(e){}return null}if("file"===e.kind){Oe(e);const n=e.getAsFile();if(t.some((e=>n.name.match(Re[e]))))return n}return null}if("text/html"===e.type){const n=await new Promise((t=>e.getAsString(t))),r=t.map((e=>ye(n,"text/html").querySelectorAll(Ce[e]||e))).flat();return r.length?r.map((e=>{const t=e.src||e.value;return t?{url:t,name:t.substring(t.lastIndexOf("/")+1)}:null})):null}}const n=e.webkitGetAsEntry();if(n?.isDirectory){const e=(await new Promise((e=>n.createReader().readEntries(e)))).filter((e=>e.isFile&&t.some((t=>e.name.match(Re[t]))))).map((e=>new Promise((t=>e.file(t)))));return Promise.all(e)}if(n?.isFile&&t.some((e=>n.name.match(Re[e]))))return new Promise((e=>n.file(e)))}(e,t))));return n.flat().filter((e=>e))}const Re={audio:me,video:le,image:he,subtitle:fe,book:we},Ne={audio:de,video:ce,image:pe,subtitle:ue,book:ge},Ce={image:"img",subtitle:"input"};function De(e){return e.arrayBuffer?e.arrayBuffer():new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))}async function Te(e){const t=await De(e);return new Uint8Array(t)}function qe(e){return"undefined"!=typeof Blob&&e instanceof Blob}function He(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}const Ye="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class We{constructor(e){this.typedArray=e instanceof ArrayBuffer||He(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class Xe{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const n=this.blob.slice(e,e+t),r=await De(n);return new Uint8Array(r)}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function Ge(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function Qe(e,t,n,r,o,i){for(var s=et,a=nt,c=0;c<n;){var l=e[a(r,o)&t];o+=15&l;var u=l>>>4;if(u<=15)i[c]=u,c++;else{var f=0,d=0;16==u?(d=3+s(r,o,2),o+=2,f=i[c-1]):17==u?(d=3+s(r,o,3),o+=3):18==u&&(d=11+s(r,o,7),o+=7);for(var m=c+d;c<m;)i[c]=f,c++}}return o}function Je(e,t,n,r){for(var o=0,i=0,s=r.length>>>1;i<n;){var a=e[i+t];r[i<<1]=0,r[1+(i<<1)]=a,a>o&&(o=a),i++}for(;i<s;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o}function Ve(e,t){for(var n,r,o,i,s=e.length,a=rt.bl_count,c=0;c<=t;c++)a[c]=0;for(c=1;c<s;c+=2)a[e[c]]++;var l=rt.next_code;for(n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,l[r]=n;for(o=0;o<s;o+=2)0!=(i=e[o+1])&&(e[o]=l[i],l[i]++)}function Ke(e,t,n){for(var r=e.length,o=rt.rev15,i=0;i<r;i+=2)if(0!=e[i+1])for(var s=i>>1,a=e[i+1],c=s<<4|a,l=t-a,u=e[i]<<l,f=u+(1<<l);u!=f;){n[o[u]>>>15-t]=c,u++}}function Ze(e,t){for(var n=rt.rev15,r=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>r}}function et(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1}function tt(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1}function nt(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}const rt=(ot=Uint16Array,it=Uint32Array,{next_code:new ot(16),bl_count:new ot(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new ot(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new it(32),flmap:new ot(512),fltree:[],fdmap:new ot(32),fdtree:[],lmap:new ot(32768),ltree:[],ttree:[],dmap:new ot(32768),dtree:[],imap:new ot(512),itree:[],rev15:new ot(32768),lhst:new it(286),dhst:new it(30),ihst:new it(19),lits:new it(15e3),strt:new ot(65536),prev:new ot(32768)});var ot,it;!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,rt.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(e=0;e<32;e++)rt.ldef[e]=rt.of0[e]<<3|rt.exb[e],rt.ddef[e]=rt.df0[e]<<4|rt.dxb[e];n(rt.fltree,144,8),n(rt.fltree,112,9),n(rt.fltree,24,7),n(rt.fltree,8,8),Ve(rt.fltree,9),Ke(rt.fltree,9,rt.flmap),Ze(rt.fltree,9),n(rt.fdtree,32,5),Ve(rt.fdtree,5),Ke(rt.fdtree,5,rt.fdmap),Ze(rt.fdtree,5),n(rt.itree,19,0),n(rt.ltree,286,0),n(rt.dtree,30,0),n(rt.ttree,320,0)}();const st={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=st.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^st.update(4294967295,e,t,n)}};function at(e,t){return function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=tt,o=et,i=Qe,s=nt,a=null==t;a&&(t=new n(e.length>>>2<<3));for(var c,l,u=0,f=0,d=0,m=0,p=0,h=0,g=0,w=0,y=0;0==u;)if(u=r(e,y,1),f=r(e,y+1,2),y+=3,0!=f){if(a&&(t=Ge(t,w+(1<<17))),1==f&&(c=rt.flmap,l=rt.fdmap,h=511,g=31),2==f){d=o(e,y,5)+257,m=o(e,y+5,5)+1,p=o(e,y+10,4)+4,y+=14;for(var b=0;b<38;b+=2)rt.itree[b]=0,rt.itree[b+1]=0;var v=1;for(b=0;b<p;b++){var $=o(e,y+3*b,3);rt.itree[1+(rt.ordr[b]<<1)]=$,$>v&&(v=$)}y+=3*p,Ve(rt.itree,v),Ke(rt.itree,v,rt.imap),c=rt.lmap,l=rt.dmap,y=i(rt.imap,(1<<v)-1,d+m,e,y,rt.ttree);var x=Je(rt.ttree,0,d,rt.ltree);h=(1<<x)-1;var k=Je(rt.ttree,d,m,rt.dtree);g=(1<<k)-1,Ve(rt.ltree,x),Ke(rt.ltree,x,c),Ve(rt.dtree,k),Ke(rt.dtree,k,l)}for(;;){var E=c[s(e,y)&h];y+=15&E;var z=E>>>4;if(z>>>8==0)t[w++]=z;else{if(256==z)break;var L=w+z-254;if(z>264){var A=rt.ldef[z-257];L=w+(A>>>3)+o(e,y,7&A),y+=7&A}var S=l[s(e,y)&g];y+=15&S;var P=S>>>4,F=rt.ddef[P],M=(F>>>4)+r(e,y,15&F);for(y+=15&F,a&&(t=Ge(t,w+(1<<17)));w<L;)t[w]=t[w++-M],t[w]=t[w++-M],t[w]=t[w++-M],t[w]=t[w++-M];w=L}}}else{0!=(7&y)&&(y+=8-(7&y));var _=4+(y>>>3),B=e[_-4]|e[_-3]<<8;a&&(t=Ge(t,w+B)),t.set(new n(e.buffer,e.byteOffset+_,B),w),y=_+B<<3,w+=B}return t.length==w?t:t.slice(0,w)}(e,t)}const ct={numWorkers:1,workerURL:"",useWorkers:!1};let lt=0;const ut=[];function ft(e){return new Promise(((t,n)=>{const r=new Worker(e);r.onmessage=e=>{"start"===e.data?(r.onerror=void 0,r.onmessage=void 0,t(r)):n(new Error(`unexpected message: ${e.data}`))},r.onerror=n}))}function dt(e,t,n,r){const o=new Uint8Array(t);at(e,o),r(n?new Blob([o],{type:n}):o.buffer)}function mt(e,t,n){return new Promise(((r,o)=>{ut.push({src:e,uncompressedSize:t,type:n,resolve:r,reject:o,id:lt++}),async function(){if(0!==ut.length)for(;ut.length;){const{src:e,uncompressedSize:t,type:n,resolve:r}=ut.shift();let o=e;qe(e)&&(o=await Te(e)),dt(o,t,n,r)}}()}))}!function(){if(Ye){const{Worker:n}=(e=module,t="worker_threads",e.require(t));return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",(n=>{t({target:e,data:n})}))},async terminate(e){await e.terminate()}}}return{async createWorker(e){try{return await ft(e)}catch(t){console.warn("could not load worker:",e)}let t;try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`could not load: ${e}`);t=await n.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));const r=await ft(e);return ct.workerURL=e,r}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;const n=await ft(e);return ct.workerURL=e,n}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};var e,t}();class pt{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(n=t.lastModFileDate,r=t.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(e,t,n){const{decompress:r,fileDataStart:o}=await zt(e,t);if(!r){const r=await gt(e,o,t.compressedSize,n);return qe(r)?r:new Blob([He(r.buffer)?new Uint8Array(r):r],{type:n})}const i=await gt(e,o,t.compressedSize);return await mt(i,t.uncompressedSize,n)}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:n,fileDataStart:r}=await zt(e,t);if(!n){const n=await ht(e,r,t.compressedSize);return 0===(o=n).byteOffset&&o.byteLength===o.buffer.byteLength?n.buffer:n.slice().buffer}var o;const i=await gt(e,r,t.compressedSize);return await mt(i,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return xt(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}async function ht(e,t,n){return await e.read(t,n)}async function gt(e,t,n,r){return e.sliceAsBlob?await e.sliceAsBlob(t,n,r):await e.read(t,n)}const wt={unsigned:()=>0};function yt(e,t){return e[t]+256*e[t+1]}function bt(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function vt(e,t){return bt(e,t)+4294967296*bt(e,t+4)}const $t=new TextDecoder;function xt(e,t){return He(e.buffer)&&(e=new Uint8Array(e)),$t.decode(e)}async function kt(e,t,n,r){const o=t-20,i=await ht(e,o,20);if(117853008!==bt(i,0))throw new Error("invalid zip64 end of central directory locator signature");const s=vt(i,8),a=await ht(e,s,56);if(101075792!==bt(a,0))throw new Error("invalid zip64 end of central directory record signature");const c=vt(a,32),l=vt(a,40);return Et(e,vt(a,48),l,c,n,r)}async function Et(e,t,n,r,o,i){let s=0;const a=await ht(e,t,n),c=[];for(let e=0;e<r;++e){const e=a.subarray(s,s+46),t=bt(e,0);if(33639248!==t)throw new Error(`invalid central directory file header signature: 0x${t.toString(16)}`);const n={versionMadeBy:yt(e,4),versionNeededToExtract:yt(e,6),generalPurposeBitFlag:yt(e,8),compressionMethod:yt(e,10),lastModFileTime:yt(e,12),lastModFileDate:yt(e,14),crc32:bt(e,16),compressedSize:bt(e,20),uncompressedSize:bt(e,24),fileNameLength:yt(e,28),extraFieldLength:yt(e,30),fileCommentLength:yt(e,32),internalFileAttributes:yt(e,36),externalFileAttributes:bt(e,38),relativeOffsetOfLocalHeader:bt(e,42)};if(64&n.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const r=a.subarray(s,s+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=xt(n.nameBytes);const o=n.fileNameLength+n.extraFieldLength,i=r.slice(n.fileNameLength,o);n.extraFields=[];let l=0;for(;l<i.length-3;){const e=yt(i,l+0),t=l+4,r=t+yt(i,l+2);if(r>i.length)throw new Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:e,data:i.slice(t,r)}),l=r}if(n.commentBytes=r.slice(o,o+n.fileCommentLength),n.comment=xt(n.commentBytes),s+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){const e=n.extraFields.find((e=>1===e.id));if(!e)throw new Error("expected zip64 extended information extra field");const t=e.data;let r=0;if(4294967295===n.uncompressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=vt(t,r),r+=8}if(4294967295===n.compressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include compressed size");n.compressedSize=vt(t,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=vt(t,r),r+=8}}const u=n.extraFields.find((e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&bt(e.data,1)),wt.unsigned(n.nameBytes));if(u&&(n.fileName=xt(u.data.slice(5))),0===n.compressionMethod){let e=n.uncompressedSize;if(0!=(1&n.generalPurposeBitFlag)&&(e+=12),n.compressedSize!==e)throw new Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${e}`)}c.push(n)}return{zip:{comment:o,commentBytes:i},entries:c.map((t=>new pt(e,t)))}}async function zt(e,t){if(1&t.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const n=await ht(e,t.relativeOffsetOfLocalHeader,30),r=await e.getLength(),o=bt(n,0);if(67324752!==o)throw new Error(`invalid local file header signature: 0x${o.toString(16)}`);const i=yt(n,26),s=yt(n,28),a=t.relativeOffsetOfLocalHeader+n.length+i+s;let c;if(0===t.compressionMethod)c=!1;else{if(8!==t.compressionMethod)throw new Error(`unsupported compression method: ${t.compressionMethod}`);c=!0}const l=a,u=l+t.compressedSize;if(0!==t.compressedSize&&u>r)throw new Error(`file data overflows file bounds: ${l} +  ${t.compressedSize}  > ${r}`);return{decompress:c,fileDataStart:l}}async function Lt(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new Xe(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new We(e);else if(He(e)||He(e.buffer))t=new We(e);else if("string"==typeof e){const n=await fetch(e);if(!n.ok)throw new Error(`failed http request ${e}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();t=new Xe(r)}else{if("function"!=typeof e.getLength||"function"!=typeof e.read)throw new Error("unsupported source type");t=e}const n=await t.getLength();if(n>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(e,t){const n=Math.min(65557,t),r=t-n,o=await ht(e,r,n);for(let t=n-22;t>=0;--t){if(101010256!==bt(o,t))continue;const n=new Uint8Array(o.buffer,o.byteOffset+t,o.byteLength-t),i=yt(n,4);if(0!==i)throw new Error(`multi-volume zip files are not supported. This is volume: ${i}`);const s=yt(n,10),a=bt(n,12),c=bt(n,16),l=yt(n,20),u=n.length-22;if(l!==u)throw new Error(`invalid comment length. expected: ${u}, actual: ${l}`);const f=new Uint8Array(n.buffer,n.byteOffset+22,l),d=xt(f);return 65535===s||4294967295===c?await kt(e,r+t,d,f):await Et(e,c,a,s,d,f)}throw new Error("could not find end of central directory. maybe not zip file")}(t,n)}function At(t){let n;return{c(){n=y("div"),n.textContent="There's no next page.",E(n,"class","d-flex align-items-center justify-content-center font-size-24 font-weight-bold w-full h-full")},m(e,t){g(e,n,t)},p:e,d(e){e&&w(n)}}}function St(e){let t;function n(e,t){return"fit"!==e[0].mode?Ft:Pt}let r=n(e),o=r(e);return{c(){o.c(),t=$()},m(e,n){o.m(e,n),g(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&w(t)}}}function Pt(e){let t,n,o,i,s;return{c(){t=y("div"),n=y("img"),c(n.src,o=e[2])||E(n,"src",o),E(n,"alt","view"),E(n,"class","w-full h-full position-absolute svelte-1kp6o3y"),L(n,"pad",e[0].pad),L(n,"transition",e[3]),E(t,"class","w-full h-full overflow-hidden position-relative dragarea d-flex align-items-center justify-content-center svelte-1kp6o3y")},m(r,o){g(r,t,o),h(t,n),e[14](n),i||(s=[x(n,"load",e[9]),x(t,"pointerdown",e[4]),x(t,"pointerup",e[5]),x(t,"wheel",e[8],{passive:!0}),x(t,"touchend",e[5]),x(t,"touchstart",e[6]),x(t,"touchmove",e[7])],i=!0)},p(e,t){4&t&&!c(n.src,o=e[2])&&E(n,"src",o),1&t&&L(n,"pad",e[0].pad),8&t&&L(n,"transition",e[3])},d(n){n&&w(t),e[14](null),i=!1,r(s)}}}function Ft(e){let t,n,r;return{c(){t=y("div"),n=y("img"),c(n.src,r=e[2])||E(n,"src",r),E(n,"alt","view"),E(n,"class","w-full svelte-1kp6o3y"),L(n,"pad",e[0].pad),E(t,"class","w-full d-flex align-items-center justify-content-center overflow-y-auto")},m(e,r){g(e,t,r),h(t,n)},p(e,t){4&t&&!c(n.src,r=e[2])&&E(n,"src",r),1&t&&L(n,"pad",e[0].pad)},d(e){e&&w(t)}}}function Mt(t){let n;function r(e,t){return e[2]?St:At}let o=r(t),i=o(t);return{c(){i.c(),n=$()},m(e,t){i.m(e,t),g(e,n,t)},p(e,[t]){o===(o=r(e))&&i?i.p(e,t):(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&w(n)}}}async function _t(e,t){const n=new Image;n.src=URL.createObjectURL(e);const r=document.createElement("canvas"),o=r.getContext("2d");await new Promise((e=>{n.onload=e,n.complete&&e()})),URL.revokeObjectURL(n.src),r.width=n.width,r.height=n.height,o.drawImage(n,0,0);const i=o.getImageData(0,0,r.width,r.height),{top:s,bottom:a,left:c,right:l}=function(e,t={}){if(!e)return null;const{threshold:n=15,margin:r=2,padding:o=5}=t,{data:i,width:s,height:a}=e,c={whitethreshold:255-n,blackthreshold:n,margin:r,data:new Uint32Array(i.buffer),width:s,height:a};return{top:Math.max(0,Bt(c)-o),bottom:Math.max(0,Ot(c)-o),left:Math.max(0,jt(c)-o),right:Math.max(0,It(c)-o)}}(i,t);return r.width=n.width-c-l,r.height=n.height-s-a,o.drawImage(n,-c,-s),[r.toDataURL("image/png"),o.getImageData(0,0,r.width,r.height)]}function Bt({whitethreshold:e,blackthreshold:t,margin:n,data:r,height:o,width:i}){let s=n,a=n;e:for(;s<o-2*n;++s){const t=s*i;for(let o=n;o<i-2*n;++o){const n=r[t+o];if((255&n)<e||(n>>8&255)<e||(n>>16&255)<e)break e}}e:for(;a<o-2*n;++a){const e=a*i;for(let o=n;o<i-2*n;++o){const n=r[e+o];if((255&n)>t||(n>>8&255)>t||(n>>16&255)>t)break e}}return Math.max(a,s)}function Ot({whitethreshold:e,blackthreshold:t,margin:n,data:r,height:o,width:i}){let s=o-1-n,a=o-1-n;e:for(;s>=n;--s){const t=s*i;for(let o=n;o<i-2*n;++o){const n=r[t+o];if((255&n)<e||(n>>8&255)<e||(n>>16&255)<e)break e}}e:for(;a>=n;--a){const e=a*i;for(let o=n;o<i-2*n;++o){const n=r[e+o];if((255&n)>t||(n>>8&255)>t||(n>>16&255)>t)break e}}return o-Math.min(s,a)-1}function jt({whitethreshold:e,blackthreshold:t,margin:n,data:r,height:o,width:i}){let s=n,a=n;e:for(;s<i-2*n;++s)for(let t=n;t<o-2*n;++t){const n=r[t*i+s];if((255&n)<e||(n>>8&255)<e||(n>>16&255)<e)break e}e:for(;a<i-2*n;++a)for(let e=n;e<o-2*n;++e){const n=r[e*i+a];if((255&n)>t||(n>>8&255)>t||(n>>16&255)>t)break e}return Math.max(s,a)}function It({whitethreshold:e,blackthreshold:t,margin:n,data:r,height:o,width:i}){let s=i-1-n,a=i-1-n;e:for(;s>=n;--s)for(let t=n;t<o-2*n;++t){const n=r[t*i+s];if((255&n)<e||(n>>8&255)<e||(n>>16&255)<e)break e}e:for(;a>=n;--a)for(let e=n;e<o-2*n;++e){const n=r[e*i+a];if((255&n)<t||(n>>8&255)<t||(n>>16&255)<t)break e}return i-Math.min(s,a)-1}function Ut(e,t,n){let{file:r=null}=t;let o=null;S((()=>{URL.revokeObjectURL(a)}));let{options:i={}}=t,s=null,a=null,c=0,l=!0;const u={x:0,y:0},f={x:0,y:0},d={x:0,y:0};let m=u;function p(e){h||(d.x=f.x+e.clientX-u.x,d.y=f.y+e.clientY-u.y,n(12,m=d))}let h=!1;let g=0,w=0;let y=1;function b({deltaY:e}){if("fit"===i.mode){const t=-.01*e;t<0?(c<-4||(c-=.5),f.x/=1.5,f.y/=1.5):t>0&&!(c>11)&&(c+=.5,f.x*=1.5,f.y*=1.5),n(13,y=2**c),n(12,m=f)}}return e.$$set=e=>{"file"in e&&n(10,r=e.file),"options"in e&&n(0,i=e.options)},e.$$.update=()=>{1024&e.$$.dirty&&function(e){!o&&e&&n(11,o=e.blob())}(r),2049&e.$$.dirty&&async function(e,t){e&&null!==t.crop&&(t.crop,t.crop?n(2,a=(await _t(await e,{padding:2}))[0]):n(2,a=URL.createObjectURL(await e)))}(o,i),1&e.$$.dirty&&(f.x=0,f.y=0,c=0,n(13,y=1),n(12,m=f)),12288&e.$$.dirty&&function({disPos:e,zoom:t}){s?.style.setProperty("transform",`scale(${t})`),s?.style.setProperty("--left",e.x+"px"),s?.style.setProperty("--top",e.y+"px")}({disPos:m,zoom:y})},[i,s,a,l,function(e){"fit"===i.mode&&(n(3,l=!1),u.x=e.clientX,u.y=e.clientY,n(1,s.onpointermove=p,s),e.pointerId&&s.setPointerCapture(e.pointerId))},function(e){s.onpointermove&&(n(3,l=!0),n(1,s.onpointermove=null,s),e.pointerId&&s.releasePointerCapture(e.pointerId),h?(h=!1,g=0):(f.x+=e.clientX-u.x,f.y+=e.clientY-u.y))},function({touches:e}){"fit"===i.mode&&2===e.length&&(h=!0,n(3,l=!0))},function({touches:e}){if(2===e.length&&!0===h){const t=g;g=Math.hypot(e[0].pageX-e[1].pageX,e[0].pageY-e[1].pageY),w+=t-g,(w>20||w<-20)&&(b({deltaY:w>0?100:-100}),w=0)}},b,function(e){},r,o,m,y,function(e){M[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class Rt extends re{constructor(e){super(),ne(this,e,Ut,Mt,i,{file:10,options:0})}}function Nt(e,t,n){const r=e.slice();return r[10]=t[n].item,r[11]=t[n].index,r}const Ct=e=>({item:16&e}),Dt=e=>({item:e[10]});function Tt(e){let t,n,r=[],o=new Map,i=e[4];const s=e=>e[11];for(let t=0;t<i.length;t+=1){let n=Nt(e,i,t),a=s(n);o.set(a,r[t]=qt(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);g(e,t,o),n=!0},p(e,n){285&n&&(i=e[4],H(),r=J(r,n,s,1,e,i,o,t.parentNode,Q,qt,t,Nt),Y())},i(e){if(!n){for(let e=0;e<i.length;e+=1)W(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)X(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&w(t)}}}function qt(e,t){let n,r,i,s,a,c;const u=t[9].default,b=l(u,t,t[8],Dt);return{key:e,first:null,c(){n=y("div"),b&&b.c(),r=v(),E(n,"class","item w-full h-full overflow-y-auto svelte-ym67ze"),L(n,"prev",t[2]),L(n,"next",t[3]),this.first=n},m(e,o){g(e,n,o),b&&b.m(n,null),h(n,r),s=!0,a||(c=p(i=Yt.call(null,n,t[0]===t[11])),a=!0)},p(e,r){t=e,b&&b.p&&(!s||272&r)&&d(b,u,t,t[8],s?f(u,t[8],r,Ct):m(t[8]),Dt),i&&o(i.update)&&17&r&&i.update.call(null,t[0]===t[11]),4&r&&L(n,"prev",t[2]),8&r&&L(n,"next",t[3])},i(e){s||(W(b,e),s=!0)},o(e){X(b,e),s=!1},d(e){e&&w(n),b&&b.d(e),a=!1,c()}}}function Ht(e){let t,n,r=e[1]&&Tt(e);return{c(){t=y("div"),r&&r.c(),E(t,"class","h-full d-flex flex-row-reverse overflow-x-hidden")},m(e,o){g(e,t,o),r&&r.m(t,null),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&W(r,1)):(r=Tt(e),r.c(),W(r,1),r.m(t,null)):r&&(H(),X(r,1,1,(()=>{r=null})),Y())},i(e){n||(W(r),n=!0)},o(e){X(r),n=!1},d(e){e&&w(t),r&&r.d()}}}function Yt(e){return{update(t){t&&e.focus()}}}function Wt(e,t,n){let r,o,{$$slots:i={},$$scope:s}=t,{currentIndex:a=0}=t,{items:c=[]}=t,l=!1,u=!1;return e.$$set=e=>{"currentIndex"in e&&n(0,a=e.currentIndex),"items"in e&&n(5,c=e.items),"$$scope"in e&&n(8,s=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(1,r=c.length),35&e.$$.dirty&&n(4,o=[-1,0,1].map((e=>a+e<=r?{item:c[a+e],index:a+e}:{item:!1})).filter((e=>!1!==e.item)))},[a,r,l,u,o,c,function(){!u&&!l&&a<r&&(n(3,u=!0),setTimeout((()=>{n(0,a+=1),n(3,u=!1)}),200))},function(){!u&&!l&&a>0&&(n(2,l=!0),setTimeout((()=>{n(0,a-=1),n(2,l=!1)}),200))},s,i]}class Xt extends re{constructor(e){super(),ne(this,e,Wt,Ht,i,{currentIndex:0,items:5,gotoNext:6,gotoPrev:7})}get gotoNext(){return this.$$.ctx[6]}get gotoPrev(){return this.$$.ctx[7]}}function Gt(e,t,n){const r=e.slice();return r[10]=t[n].item,r[11]=t[n].index,r}const Qt=e=>({item:4&e}),Jt=e=>({item:e[10]});function Vt(e){let t,n,r=[],o=new Map,i=e[2];const s=e=>e[11];for(let t=0;t<i.length;t+=1){let n=Gt(e,i,t),a=s(n);o.set(a,r[t]=Kt(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);g(e,t,o),n=!0},p(e,n){68&n&&(i=e[2],H(),r=J(r,n,s,1,e,i,o,t.parentNode,Q,Kt,t,Gt),Y())},i(e){if(!n){for(let e=0;e<i.length;e+=1)W(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)X(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&w(t)}}}function Kt(e,t){let n,r,o,i,s;const a=t[7].default,c=l(a,t,t[6],Jt);return{key:e,first:null,c(){n=y("div"),c&&c.c(),r=v(),E(n,"class","w-full d-flex"),this.first=n},m(e,a){g(e,n,a),c&&c.m(n,null),h(n,r),o=!0,i||(s=p(t[3].call(null,n)),i=!0)},p(e,n){t=e,c&&c.p&&(!o||68&n)&&d(c,a,t,t[6],o?f(a,t[6],n,Qt):m(t[6]),Jt)},i(e){o||(W(c,e),o=!0)},o(e){X(c,e),o=!1},d(e){e&&w(n),c&&c.d(e),i=!1,s()}}}function Zt(e){let t,n,r=e[0].length&&Vt(e);return{c(){t=y("div"),r&&r.c(),E(t,"class","h-full d-flex flex-column overflow-x-hidden overflow-y-auto")},m(o,i){g(o,t,i),r&&r.m(t,null),e[8](t),n=!0},p(e,[n]){e[0].length?r?(r.p(e,n),1&n&&W(r,1)):(r=Vt(e),r.c(),W(r,1),r.m(t,null)):r&&(H(),X(r,1,1,(()=>{r=null})),Y())},i(e){n||(W(r),n=!0)},o(e){X(r),n=!1},d(n){n&&w(t),r&&r.d(),e[8](null)}}}function en(e,t,n){let r,{$$slots:o={},$$scope:i}=t,s={},{items:a=[]}=t,{currentIndex:c=0}=t,l=1;const u=new IntersectionObserver((e=>{const t=[...s.children];for(const r of e){const e=t.indexOf(r.target);r.isIntersecting?(0===e&&n(4,c=Math.max(0,c-1)),e===t.length-1&&n(5,++l)):(t.length>2&&1===e&&n(4,++c),e>1&&e!==t.length-1&&n(5,l=Math.max(1,l-1)))}}));return e.$$set=e=>{"items"in e&&n(0,a=e.items),"currentIndex"in e&&n(4,c=e.currentIndex),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{49&e.$$.dirty&&n(2,r=a.slice(c,c+l).map((e=>({index:a.indexOf(e),item:e}))))},[a,s,r,function(e){return u.observe(e),{destroy(){u.unobserve(e)}}},c,l,i,o,function(e){M[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class tn extends re{constructor(e){super(),ne(this,e,en,Zt,i,{items:0,currentIndex:4})}}const{document:nn,window:rn}=G;function on(e){let t,n,o,i,s,a,c,l,u,f,d,m,p,$,k,A,S,P,F,M,_,B,O,j,I,U=e[3].crop?"crop":"crop_free",R=e[3].pad?"unfold_more":"unfold_less",N=e[5]?"fullscreen_exit":"fullscreen";const C=[cn,an],D=[];function T(e,t){return"vertical"===e[3].mode?0:1}t=T(e),n=D[t]=C[t](e);let q="vertical"!==e[3].mode&&fn(e);return{c(){n.c(),o=v(),i=y("div"),q&&q.c(),s=v(),a=y("div"),c=y("button"),c.textContent="zoom_out_map",l=v(),u=y("button"),u.textContent="expand",f=v(),d=y("button"),d.textContent="height",m=v(),p=y("div"),$=y("button"),k=b(U),A=v(),S=y("button"),P=y("div"),F=b(R),M=v(),_=y("button"),B=b(N),E(c,"class","btn btn-lg btn-square material-icons"),E(c,"type","button"),E(u,"class","btn btn-lg btn-square material-icons"),E(u,"type","button"),E(d,"class","btn btn-lg btn-square material-icons"),E(d,"type","button"),E(a,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto"),E($,"class","btn btn-lg btn-square material-icons"),E($,"type","button"),E(P,"class","rotate svelte-r34lrt"),E(S,"class","btn btn-lg btn-square material-icons"),E(S,"type","button"),E(_,"class","btn btn-lg btn-square material-icons"),E(_,"type","button"),E(p,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto"),E(i,"class","position-absolute buttons row w-full justify-content-center controls svelte-r34lrt"),L(i,"immersed",e[4])},m(n,r){D[t].m(n,r),g(n,o,r),g(n,i,r),q&&q.m(i,null),h(i,s),h(i,a),h(a,c),h(a,l),h(a,u),h(a,f),h(a,d),h(i,m),h(i,p),h(p,$),h($,k),h(p,A),h(p,S),h(S,P),h(P,F),h(p,M),h(p,_),h(_,B),O=!0,j||(I=[x(c,"click",e[23]),x(u,"click",e[24]),x(d,"click",e[25]),x($,"click",e[26]),x(S,"click",e[27]),x(_,"click",mn)],j=!0)},p(e,r){let a=t;t=T(e),t===a?D[t].p(e,r):(H(),X(D[a],1,1,(()=>{D[a]=null})),Y(),n=D[t],n?n.p(e,r):(n=D[t]=C[t](e),n.c()),W(n,1),n.m(o.parentNode,o)),"vertical"!==e[3].mode?q?q.p(e,r):(q=fn(e),q.c(),q.m(i,s)):q&&(q.d(1),q=null),(!O||8&r[0])&&U!==(U=e[3].crop?"crop":"crop_free")&&z(k,U),(!O||8&r[0])&&R!==(R=e[3].pad?"unfold_more":"unfold_less")&&z(F,R),(!O||32&r[0])&&N!==(N=e[5]?"fullscreen_exit":"fullscreen")&&z(B,N),16&r[0]&&L(i,"immersed",e[4])},i(e){O||(W(n),O=!0)},o(e){X(n),O=!1},d(e){D[t].d(e),e&&w(o),e&&w(i),q&&q.d(),j=!1,r(I)}}}function sn(e){let t,n,r;function o(t){e[18](t)}let i={handlePopup:e[10]};return void 0!==e[0]&&(i.files=e[0]),t=new Ie({props:i}),M.push((()=>V(t,"files",o))),{c(){K(t.$$.fragment)},m(e,n){Z(t,e,n),r=!0},p(e,r){const o={};!n&&1&r[0]&&(n=!0,o.files=e[0],U((()=>n=!1))),t.$set(o)},i(e){r||(W(t.$$.fragment,e),r=!0)},o(e){X(t.$$.fragment,e),r=!1},d(e){ee(t,e)}}}function an(e){let t,n,r,o,i;function s(t){e[20](t)}function a(t){e[21](t)}function c(t){e[22](t)}let l={items:e[2],$$slots:{default:[ln,({item:e})=>({30:e}),({item:e})=>[e?1073741824:0]]},$$scope:{ctx:e}};return void 0!==e[6]&&(l.gotoNext=e[6]),void 0!==e[7]&&(l.gotoPrev=e[7]),void 0!==e[8]&&(l.currentIndex=e[8]),t=new Xt({props:l}),M.push((()=>V(t,"gotoNext",s))),M.push((()=>V(t,"gotoPrev",a))),M.push((()=>V(t,"currentIndex",c))),{c(){K(t.$$.fragment)},m(e,n){Z(t,e,n),i=!0},p(e,i){const s={};4&i[0]&&(s.items=e[2]),1073741832&i[0]|1&i[1]&&(s.$$scope={dirty:i,ctx:e}),!n&&64&i[0]&&(n=!0,s.gotoNext=e[6],U((()=>n=!1))),!r&&128&i[0]&&(r=!0,s.gotoPrev=e[7],U((()=>r=!1))),!o&&256&i[0]&&(o=!0,s.currentIndex=e[8],U((()=>o=!1))),t.$set(s)},i(e){i||(W(t.$$.fragment,e),i=!0)},o(e){X(t.$$.fragment,e),i=!1},d(e){ee(t,e)}}}function cn(e){let t,n,r;function o(t){e[19](t)}let i={items:e[2],$$slots:{default:[un,({item:e})=>({30:e}),({item:e})=>[e?1073741824:0]]},$$scope:{ctx:e}};return void 0!==e[8]&&(i.currentIndex=e[8]),t=new tn({props:i}),M.push((()=>V(t,"currentIndex",o))),{c(){K(t.$$.fragment)},m(e,n){Z(t,e,n),r=!0},p(e,r){const o={};4&r[0]&&(o.items=e[2]),1073741832&r[0]|1&r[1]&&(o.$$scope={dirty:r,ctx:e}),!n&&256&r[0]&&(n=!0,o.currentIndex=e[8],U((()=>n=!1))),t.$set(o)},i(e){r||(W(t.$$.fragment,e),r=!0)},o(e){X(t.$$.fragment,e),r=!1},d(e){ee(t,e)}}}function ln(e){let t,n;return t=new Rt({props:{file:e[30],options:e[3]}}),{c(){K(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};1073741824&n[0]&&(r.file=e[30]),8&n[0]&&(r.options=e[3]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function un(e){let t,n;return t=new Rt({props:{file:e[30],options:e[3]}}),{c(){K(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};1073741824&n[0]&&(r.file=e[30]),8&n[0]&&(r.options=e[3]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function fn(e){let t,n,i,s,a,c;return{c(){t=y("div"),n=y("button"),n.textContent="arrow_back",i=v(),s=y("button"),s.textContent="arrow_forward",E(n,"class","btn btn-lg btn-square material-icons"),E(n,"type","button"),E(s,"class","btn btn-lg btn-square material-icons"),E(s,"type","button"),E(t,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto")},m(r,l){g(r,t,l),h(t,n),h(t,i),h(t,s),a||(c=[x(n,"click",(function(){o(e[6])&&e[6].apply(this,arguments)})),x(s,"click",(function(){o(e[7])&&e[7].apply(this,arguments)}))],a=!0)},p(t,n){e=t},d(e){e&&w(t),a=!1,r(c)}}}function dn(e){let t,n,o,i,s,a,c,l,u,f;n=new ae({});const d=[sn,on],m=[];function p(e,t){return e[2].length?1:0}return i=p(e),s=m[i]=d[i](e),nn.title=c=e[1],{c(){t=y("div"),K(n.$$.fragment),o=v(),s.c(),a=v(),E(t,"class","sticky-alerts d-flex flex-column-reverse svelte-r34lrt")},m(r,s){g(r,t,s),Z(n,t,null),g(r,o,s),m[i].m(r,s),g(r,a,s),l=!0,u||(f=[x(rn,"drop",k(e[9])),x(rn,"dragenter",k(e[14])),x(rn,"dragover",k(e[15])),x(rn,"dragstart",k(e[16])),x(rn,"dragleave",k(e[17])),x(rn,"paste",k(e[9])),x(rn,"keydown",e[13]),x(rn,"mousemove",e[12]),x(rn,"touchmove",e[12]),x(rn,"mouseleave",e[11])],u=!0)},p(e,t){let n=i;i=p(e),i===n?m[i].p(e,t):(H(),X(m[n],1,1,(()=>{m[n]=null})),Y(),s=m[i],s?s.p(e,t):(s=m[i]=d[i](e),s.c()),W(s,1),s.m(a.parentNode,a)),(!l||2&t[0])&&c!==(c=e[1])&&(nn.title=c)},i(e){l||(W(n.$$.fragment,e),W(s),l=!0)},o(e){X(n.$$.fragment,e),X(s),l=!1},d(e){e&&w(t),ee(n),e&&w(o),m[i].d(e),e&&w(a),u=!1,r(f)}}}function mn(){document.fullscreenElement?document.exitFullscreen():document.documentElement.requestFullscreen()}function pn(e,t,n){Me=ve("manga-reader","recents");let r="Manga Reader",o=[],i={mode:"cover",crop:!0,pad:!1};navigator.serviceWorker.register("/sw.js"),"launchQueue"in window&&async function(){return new Promise((e=>{launchQueue.setConsumer((async t=>{if(!t.files.length)return;const n=t.files.map((e=>(Oe([e]),e.getFile())));e((await Promise.all(n)).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name&&t.size===e.size&&t.lastModified===e.lastModified))===t)))}))}))}().then(a);let s=[];async function a(e){e?.length&&(n(2,o=Object.values((await async function(e){const{zip:t,entries:n}=await Lt(e);return{zip:t,entries:Object.fromEntries(n.map((e=>[e.name,e])))}}(e[0])).entries).filter((e=>!e.isDirectory))),n(1,r=e[0].name.match(/([^-–]+)/)[0].trim()),n(8,p=0))}a(function(e){const t=[...new URLSearchParams(location.search)];if(!t.length)return null;const n=[];for(const r of t){const t=e.find((e=>r[1].match(Re[e])));if(t){const e=r[1].substring(Math.max(r[1].lastIndexOf("\\")+2,r[1].lastIndexOf("/")+1));n.push({name:e,url:r[1],type:t+"/*"})}}return n}(["book"]));let c=!1,l=null;function u(){n(4,c=!0),l=void 0}let f,d,m=!1;document.addEventListener("fullscreenchange",(()=>{n(5,m=!!document.fullscreenElement)}));let p=0;return e.$$.update=()=>{1&e.$$.dirty[0]&&a(s)},[s,r,o,i,c,m,f,d,p,async function({dataTransfer:e,clipboardData:t}){const n=t?.items||e?.items;n&&a(await Ue(n,["book"]))},async function(){o.length||a(await async function(e=[]){if("FileSystemFileHandle"in window){const t=await window.showOpenFilePicker({types:[{description:e.join(", "),accept:{"*/*":e.map((e=>Ne[e].map((e=>"."+e)))).flat()}}],multiple:!0});return Oe(t),await Promise.all(t.map((e=>e.getFile())))}return new Promise((t=>{let n=document.createElement("input");n.type="file",n.multiple="multiple",n.accept=e.map((e=>"."+Ne[e].join(",."))).flat(),n.onchange=async({target:e})=>{t([...e.files]),n=null},n.click()}))}(["book"]))},u,function(){l?clearTimeout(l):n(4,c=!1),l=setTimeout(u,2e3)},async function({key:e}){switch(e){case"ArrowLeft":f();break;case"ArrowRight":d()}},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(e){s=e,n(0,s)},function(e){p=e,n(8,p)},function(e){f=e,n(6,f)},function(e){d=e,n(7,d)},function(e){p=e,n(8,p)},()=>n(3,i.mode="fit",i),()=>n(3,i.mode="cover",i),()=>n(3,i.mode="vertical",i),()=>n(3,i.crop=!i.crop,i),()=>n(3,i.pad=!i.pad,i)]}return new class extends re{constructor(e){super(),ne(this,e,pn,dn,i,{},null,[-1,-1])}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
