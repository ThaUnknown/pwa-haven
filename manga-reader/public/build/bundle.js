var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function r(e){e.forEach(t)}function o(e){return"function"==typeof e}function i(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let s,a;function c(e,t){return s||(s=document.createElement("a")),s.href=t,e===s.href}function l(e,t,n,r){if(e){const o=u(e,t,n,r);return e[0](o)}}function u(e,t,n,r){return e[1]&&r?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](r(t))):n.ctx}function f(e,t,n,r){if(e[2]&&r){const o=e[2](r(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let r=0;r<n;r+=1)e[r]=t.dirty[r]|o[r];return e}return t.dirty|o}return t.dirty}function d(e,t,n,r,o,i){if(o){const s=u(t,n,r,i);e.p(s,o)}}function p(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function m(t){return t&&o(t.destroy)?t.destroy:e}function h(e,t){e.appendChild(t)}function g(e,t,n){e.insertBefore(t,n||null)}function w(e){e.parentNode.removeChild(e)}function y(e){return document.createElement(e)}function v(e){return document.createTextNode(e)}function b(){return v(" ")}function $(){return v("")}function x(e,t,n,r){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n,r)}function k(e){return function(t){return t.preventDefault(),e.call(this,t)}}function E(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function z(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function A(e,t,n){e.classList[n?"add":"remove"](t)}function S(e){a=e}function L(e){(function(){if(!a)throw new Error("Function called outside component initialization");return a})().$$.on_destroy.push(e)}function P(e,t){const n=e.$$.callbacks[t.type];n&&n.slice().forEach((e=>e.call(this,t)))}const B=[],F=[],O=[],_=[],M=Promise.resolve();let j=!1;function I(e){O.push(e)}function U(e){_.push(e)}const N=new Set;let R=0;function C(){const e=a;do{for(;R<B.length;){const e=B[R];R++,S(e),D(e.$$)}for(S(null),B.length=0,R=0;F.length;)F.pop()();for(let e=0;e<O.length;e+=1){const t=O[e];N.has(t)||(N.add(t),t())}O.length=0}while(B.length);for(;_.length;)_.pop()();j=!1,N.clear(),S(e)}function D(e){if(null!==e.fragment){e.update(),r(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(I)}}const T=new Set;let q;function H(){q={r:0,c:[],p:q}}function Y(){q.r||r(q.c),q=q.p}function W(e,t){e&&e.i&&(T.delete(e),e.i(t))}function X(e,t,n,r){if(e&&e.o){if(T.has(e))return;T.add(e),q.c.push((()=>{T.delete(e),r&&(n&&e.d(1),r())})),e.o(t)}}const G="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(e,t){X(e,1,1,(()=>{t.delete(e.key)}))}function J(e,t,n,r,o,i,s,a,c,l,u,f){let d=e.length,p=i.length,m=d;const h={};for(;m--;)h[e[m].key]=m;const g=[],w=new Map,y=new Map;for(m=p;m--;){const e=f(o,i,m),a=n(e);let c=s.get(a);c?r&&c.p(e,t):(c=l(a,e),c.c()),w.set(a,g[m]=c),a in h&&y.set(a,Math.abs(m-h[a]))}const v=new Set,b=new Set;function $(e){W(e,1),e.m(a,u),s.set(e.key,e),u=e.first,p--}for(;d&&p;){const t=g[p-1],n=e[d-1],r=t.key,o=n.key;t===n?(u=t.first,d--,p--):w.has(o)?!s.has(r)||v.has(r)?$(t):b.has(o)?d--:y.get(r)>y.get(o)?(b.add(r),$(t)):(v.add(o),d--):(c(n,s),d--)}for(;d--;){const t=e[d];w.has(t.key)||c(t,s)}for(;p;)$(g[p-1]);return g}function V(e,t,n){const r=e.$$.props[t];void 0!==r&&(e.$$.bound[r]=n,n(e.$$.ctx[r]))}function K(e){e&&e.c()}function Z(e,n,i,s){const{fragment:a,on_mount:c,on_destroy:l,after_update:u}=e.$$;a&&a.m(n,i),s||I((()=>{const n=c.map(t).filter(o);l?l.push(...n):r(n),e.$$.on_mount=[]})),u.forEach(I)}function ee(e,t){const n=e.$$;null!==n.fragment&&(r(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function te(e,t){-1===e.$$.dirty[0]&&(B.push(e),j||(j=!0,M.then(C)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function ne(t,o,i,s,c,l,u,f=[-1]){const d=a;S(t);const p=t.$$={fragment:null,ctx:null,props:l,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(d?d.$$.context:[])),callbacks:n(),dirty:f,skip_bound:!1,root:o.target||d.$$.root};u&&u(p.root);let m=!1;if(p.ctx=i?i(t,o.props||{},((e,n,...r)=>{const o=r.length?r[0]:n;return p.ctx&&c(p.ctx[e],p.ctx[e]=o)&&(!p.skip_bound&&p.bound[e]&&p.bound[e](o),m&&te(t,e)),n})):[],p.update(),m=!0,r(p.before_update),p.fragment=!!s&&s(p.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);p.fragment&&p.fragment.l(e),e.forEach(w)}else p.fragment&&p.fragment.c();o.intro&&W(t.$$.fragment),Z(t,o.target,o.anchor,o.customElement),C()}S(d)}class re{$destroy(){ee(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function oe(t){let n,o,i,s,a,c,l;return{c(){n=y("div"),o=y("h4"),o.textContent="Install",i=b(),s=y("button"),s.innerHTML="<span>×</span>",a=v("\r\n    Click here to install the app for more features!"),E(o,"class","alert-heading"),E(s,"class","close"),E(s,"type","button"),E(n,"class","alert alert-success filled-dm show svelte-1qjuqpq")},m(e,r){g(e,n,r),h(n,o),h(n,i),h(n,s),h(n,a),c||(l=[x(s,"click",t[2]),x(n,"click",t[1])],c=!0)},p:e,d(e){e&&w(n),c=!1,r(l)}}}function ie(t){let n,r=t[0]&&oe(t);return{c(){r&&r.c(),n=$()},m(e,t){r&&r.m(e,t),g(e,n,t)},p(e,[t]){e[0]?r?r.p(e,t):(r=oe(e),r.c(),r.m(n.parentNode,n)):r&&(r.d(1),r=null)},i:e,o:e,d(e){r&&r.d(e),e&&w(n)}}}function se(e,t,n){let r;return window.addEventListener("beforeinstallprompt",(e=>{e.preventDefault(),n(0,r=e)})),[r,async function(){r.prompt();const{outcome:e}=await r.userChoice;"accepted"===e&&n(0,r=null)},function(){n(0,r=null)}]}class ae extends re{constructor(e){super(),ne(this,e,se,ie,i,{})}}const ce=["3g2","3gp","asf","avi","dv","flv","gxf","m2ts","m4a","m4b","m4p","m4r","m4v","mkv","mov","mp4","mpd","mpeg","mpg","mxf","nut","ogm","ogv","swf","ts","vob","webm","wmv","wtv"],le=new RegExp(`.(${ce.join("|")})$`,"i"),ue=["srt","vtt","ass","ssa","sub","txt"],fe=new RegExp(`.(${ue.join("|")})$`,"i"),de=["3gp","3gpp","3g2","aac","adts","ac3","amr","eac3","flac","mp3","m4a","mp4","mp4a","mpga","mp2","mp2a","mp3","m2a","m3a","oga","ogg","mogg","spx","opus","raw","wav","weba"],pe=new RegExp(`.(${de.join("|")})$`,"i"),me=["apng","avif","bmp","gif","ico","jpg","jpeg","jfif","pjpeg","pjp","png","svg","tif","tiff","webp"],he=new RegExp(`.(${me.join("|")})$`,"i"),ge=["epub","cbr","cba","cbt","cbz","cb7","zip"],we=new RegExp(`.(${ge.join("|")})$`,"i"),ye=(new DOMParser).parseFromString.bind(new DOMParser);function ve(e){return new Promise(((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)}))}function be(e,t){const n=(!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise((function(e){var t=function(){return indexedDB.databases().finally(e)};r=setInterval(t,100),t()})).finally((function(){return clearInterval(r)})):Promise.resolve()).then((()=>{const n=indexedDB.open(e);return n.onupgradeneeded=()=>n.result.createObjectStore(t),ve(n)}));var r;return(e,r)=>n.then((n=>r(n.transaction(t,e).objectStore(t))))}let $e;function xe(){return $e||($e=be("keyval-store","keyval")),$e}function ke(e,t=xe()){return t("readonly",(t=>ve(t.get(e))))}function Ee(e,t,n=xe()){return n("readwrite",(n=>(n.put(t,e),ve(n.transaction))))}function ze(e,t,n){const r=e.slice();return r[4]=t[n],r}function Ae(t){let n;return{c(){n=y("div"),n.textContent="Your browser doesn't support recent files."},m(e,t){g(e,n,t)},p:e,d(e){e&&w(n)}}}function Se(t){let n;return{c(){n=y("div"),n.innerHTML='Your browser doesn&#39;t support recent files, but it could! Visit <code class="code">chrome://flags</code> and enable <code class="code">#file-system-access-api!</code>'},m(e,t){g(e,n,t)},p:e,d(e){e&&w(n)}}}function Le(e){let t,n=e[1],r=[];for(let t=0;t<n.length;t+=1)r[t]=Be(ze(e,n,t));let o=null;return n.length||(o=Pe()),{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$(),o&&o.c()},m(e,n){for(let t=0;t<r.length;t+=1)r[t].m(e,n);g(e,t,n),o&&o.m(e,n)},p(e,i){if(6&i){let s;for(n=e[1],s=0;s<n.length;s+=1){const o=ze(e,n,s);r[s]?r[s].p(o,i):(r[s]=Be(o),r[s].c(),r[s].m(t.parentNode,t))}for(;s<r.length;s+=1)r[s].d(1);r.length=n.length,n.length?o&&(o.d(1),o=null):o||(o=Pe(),o.c(),o.m(t.parentNode,t))}},d(e){!function(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}(r,e),e&&w(t),o&&o.d(e)}}}function Pe(e){let t;return{c(){t=y("div"),t.textContent="Your recent files will show up here!",E(t,"class","ml-5 p-5")},m(e,n){g(e,t,n)},d(e){e&&w(t)}}}function Be(e){let t,n,r,i,s,a,c=e[4].name+"";return{c(){t=y("div"),n=y("div"),r=v(c),i=b(),E(n,"class","ml-5"),E(t,"class","p-5 pointer text-muted hover svelte-1hv3hh2")},m(c,l){g(c,t,l),h(t,n),h(n,r),h(t,i),s||(a=x(t,"click",(function(){o(e[2](e[4]))&&e[2](e[4]).apply(this,arguments)})),s=!0)},p(t,n){e=t,2&n&&c!==(c=e[4].name+"")&&z(r,c)},d(e){e&&w(t),s=!1,a()}}}function Fe(t){let n,r,i,s,a,c,l,u,f,d,p,m;let v=(Oe?Le:window.chrome?Se:Ae)(t);return{c(){n=y("div"),r=y("div"),i=y("div"),s=y("div"),s.textContent="Recent Files",a=b(),c=y("hr"),l=b(),u=y("div"),v.c(),f=b(),d=y("div"),d.textContent="You can also drag-drop or paste files, or click here to select some!",E(s,"class","font-weight-bold font-size-24 p-5"),E(c,"class","w-full my-15"),E(u,"class","overflow-y-auto"),E(d,"class","py-20 pointer text-muted hover mt-auto svelte-1hv3hh2"),E(i,"class","py-20 d-flex flex-column h-full"),E(r,"class","container h-full py-20"),E(n,"class","h-full my-0 bg-very-dark")},m(e,w){g(e,n,w),h(n,r),h(r,i),h(i,s),h(i,a),h(i,c),h(i,l),h(i,u),v.m(u,null),h(i,f),h(i,d),p||(m=x(d,"click",(function(){o(t[0])&&t[0].apply(this,arguments)})),p=!0)},p(e,[n]){t=e,v.p(t,n)},i:e,o:e,d(e){e&&w(n),v.d(),p=!1,m()}}}const Oe="FileSystemFileHandle"in window;let _e=null;let Me=[];async function je(e){await(async(e,t)=>{for(let n of e)if(await t(n))return!0;return!1})(Me,(t=>t.isSameEntry(e)))||(Me.unshift(e),Me.length=Math.min(Me.length,15),Ee("recents",Me,_e))}async function Ie(e){if(Oe&&_e){for(const t of e)je(t instanceof FileSystemFileHandle?t:await t.getAsFileSystemHandle());Ee("recents",Me,_e)}}function Ue(e,t,n){let{files:r=null}=t,o=[];ke("recents",_e).then((async e=>{n(1,o=Me=await Promise.all(e||[]))}));let{handlePopup:i=(()=>{})}=t;return e.$$set=e=>{"files"in e&&n(3,r=e.files),"handlePopup"in e&&n(0,i=e.handlePopup)},[i,o,async function(e){await e.requestPermission({mode:"read"}),n(3,r=[await e.getFile()])},r]}class Ne extends re{constructor(e){super(),ne(this,e,Ue,Fe,i,{files:3,handlePopup:0})}}async function Re(e=[],t=[]){const n=await Promise.all([...e].map((e=>async function(e,t){if(!e)return null;if(e.type){if(t.some((t=>0===e.type.indexOf(t))))return Ie([e]),e.getAsFile();if("text/plain"===e.type){if("string"===e.kind){const n=await new Promise((t=>e.getAsString(t)));try{const e=new URL(n),r=t.find((e=>n.match(Ce[e])));if(e&&r)return{url:n,name:n.substring(n.lastIndexOf("/")+1),type:r}}catch(e){}return null}if("file"===e.kind){const n=e.getAsFile();if(Ie(e),t.some((e=>n.name.match(Ce[e]))))return n}return null}if("text/html"===e.type){const n=await new Promise((t=>e.getAsString(t))),r=t.map((e=>ye(n,"text/html").querySelectorAll(Te[e]||e))).flat();return r.length?r.map((e=>{const t=e.src||e.value;return t?{url:t,name:t.substring(t.lastIndexOf("/")+1)}:null})):null}}const n=e.webkitGetAsEntry();if(n?.isDirectory){const e=(await new Promise((e=>n.createReader().readEntries(e)))).filter((e=>e.isFile&&t.some((t=>e.name.match(Ce[t]))))).map((e=>new Promise((t=>e.file(t)))));return Promise.all(e)}if(n?.isFile&&t.some((e=>n.name.match(Ce[e]))))return new Promise((e=>n.file(e)))}(e,t))));return n.flat().filter((e=>e))}const Ce={audio:pe,video:le,image:he,subtitle:fe,book:we},De={audio:de,video:ce,image:me,subtitle:ue,book:ge},Te={image:"img",subtitle:"input"};function qe(e){return e.arrayBuffer?e.arrayBuffer():new Promise(((t,n)=>{const r=new FileReader;r.addEventListener("loadend",(()=>{t(r.result)})),r.addEventListener("error",n),r.readAsArrayBuffer(e)}))}async function He(e){const t=await qe(e);return new Uint8Array(t)}function Ye(e){return"undefined"!=typeof Blob&&e instanceof Blob}function We(e){return"undefined"!=typeof SharedArrayBuffer&&e instanceof SharedArrayBuffer}const Xe="undefined"!=typeof process&&process.versions&&void 0!==process.versions.node&&void 0===process.versions.electron;class Ge{constructor(e){this.typedArray=e instanceof ArrayBuffer||We(e)?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}async getLength(){return this.typedArray.byteLength}async read(e,t){return new Uint8Array(this.typedArray.buffer,this.typedArray.byteOffset+e,t)}}class Qe{constructor(e){this.blob=e}async getLength(){return this.blob.size}async read(e,t){const n=this.blob.slice(e,e+t),r=await qe(n);return new Uint8Array(r)}async sliceAsBlob(e,t,n=""){return this.blob.slice(e,e+t,n)}}function Je(e,t){var n=e.length;if(t<=n)return e;var r=new Uint8Array(Math.max(n<<1,t));return r.set(e,0),r}function Ve(e,t,n,r,o,i){for(var s=nt,a=ot,c=0;c<n;){var l=e[a(r,o)&t];o+=15&l;var u=l>>>4;if(u<=15)i[c]=u,c++;else{var f=0,d=0;16==u?(d=3+s(r,o,2),o+=2,f=i[c-1]):17==u?(d=3+s(r,o,3),o+=3):18==u&&(d=11+s(r,o,7),o+=7);for(var p=c+d;c<p;)i[c]=f,c++}}return o}function Ke(e,t,n,r){for(var o=0,i=0,s=r.length>>>1;i<n;){var a=e[i+t];r[i<<1]=0,r[1+(i<<1)]=a,a>o&&(o=a),i++}for(;i<s;)r[i<<1]=0,r[1+(i<<1)]=0,i++;return o}function Ze(e,t){for(var n,r,o,i,s=e.length,a=it.bl_count,c=0;c<=t;c++)a[c]=0;for(c=1;c<s;c+=2)a[e[c]]++;var l=it.next_code;for(n=0,a[0]=0,r=1;r<=t;r++)n=n+a[r-1]<<1,l[r]=n;for(o=0;o<s;o+=2)0!=(i=e[o+1])&&(e[o]=l[i],l[i]++)}function et(e,t,n){for(var r=e.length,o=it.rev15,i=0;i<r;i+=2)if(0!=e[i+1])for(var s=i>>1,a=e[i+1],c=s<<4|a,l=t-a,u=e[i]<<l,f=u+(1<<l);u!=f;){n[o[u]>>>15-t]=c,u++}}function tt(e,t){for(var n=it.rev15,r=15-t,o=0;o<e.length;o+=2){var i=e[o]<<t-e[o+1];e[o]=n[i]>>>r}}function nt(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<n)-1}function rt(e,t,n){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<n)-1}function ot(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)}const it=(st=Uint16Array,at=Uint32Array,{next_code:new st(16),bl_count:new st(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new st(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new at(32),flmap:new st(512),fltree:[],fdmap:new st(32),fdtree:[],lmap:new st(32768),ltree:[],ttree:[],dmap:new st(32768),dtree:[],imap:new st(512),itree:[],rev15:new st(32768),lhst:new at(286),dhst:new at(30),ihst:new at(19),lits:new at(15e3),strt:new st(65536),prev:new st(32768)});var st,at;!function(){for(var e=0;e<32768;e++){var t=e;t=(4278255360&(t=(4042322160&(t=(3435973836&(t=(2863311530&t)>>>1|(1431655765&t)<<1))>>>2|(858993459&t)<<2))>>>4|(252645135&t)<<4))>>>8|(16711935&t)<<8,it.rev15[e]=(t>>>16|t<<16)>>>17}function n(e,t,n){for(;0!=t--;)e.push(0,n)}for(e=0;e<32;e++)it.ldef[e]=it.of0[e]<<3|it.exb[e],it.ddef[e]=it.df0[e]<<4|it.dxb[e];n(it.fltree,144,8),n(it.fltree,112,9),n(it.fltree,24,7),n(it.fltree,8,8),Ze(it.fltree,9),et(it.fltree,9,it.flmap),tt(it.fltree,9),n(it.fdtree,32,5),Ze(it.fdtree,5),et(it.fdtree,5,it.fdmap),tt(it.fdtree,5),n(it.itree,19,0),n(it.ltree,286,0),n(it.dtree,30,0),n(it.ttree,320,0)}();const ct={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var n=t,r=0;r<8;r++)1&n?n=3988292384^n>>>1:n>>>=1;e[t]=n}return e}(),update:function(e,t,n,r){for(var o=0;o<r;o++)e=ct.table[255&(e^t[n+o])]^e>>>8;return e},crc:function(e,t,n){return 4294967295^ct.update(4294967295,e,t,n)}};function lt(e,t){return function(e,t){var n=Uint8Array;if(3==e[0]&&0==e[1])return t||new n(0);var r=rt,o=nt,i=Ve,s=ot,a=null==t;a&&(t=new n(e.length>>>2<<3));for(var c,l,u=0,f=0,d=0,p=0,m=0,h=0,g=0,w=0,y=0;0==u;)if(u=r(e,y,1),f=r(e,y+1,2),y+=3,0!=f){if(a&&(t=Je(t,w+(1<<17))),1==f&&(c=it.flmap,l=it.fdmap,h=511,g=31),2==f){d=o(e,y,5)+257,p=o(e,y+5,5)+1,m=o(e,y+10,4)+4,y+=14;for(var v=0;v<38;v+=2)it.itree[v]=0,it.itree[v+1]=0;var b=1;for(v=0;v<m;v++){var $=o(e,y+3*v,3);it.itree[1+(it.ordr[v]<<1)]=$,$>b&&(b=$)}y+=3*m,Ze(it.itree,b),et(it.itree,b,it.imap),c=it.lmap,l=it.dmap,y=i(it.imap,(1<<b)-1,d+p,e,y,it.ttree);var x=Ke(it.ttree,0,d,it.ltree);h=(1<<x)-1;var k=Ke(it.ttree,d,p,it.dtree);g=(1<<k)-1,Ze(it.ltree,x),et(it.ltree,x,c),Ze(it.dtree,k),et(it.dtree,k,l)}for(;;){var E=c[s(e,y)&h];y+=15&E;var z=E>>>4;if(z>>>8==0)t[w++]=z;else{if(256==z)break;var A=w+z-254;if(z>264){var S=it.ldef[z-257];A=w+(S>>>3)+o(e,y,7&S),y+=7&S}var L=l[s(e,y)&g];y+=15&L;var P=L>>>4,B=it.ddef[P],F=(B>>>4)+r(e,y,15&B);for(y+=15&B,a&&(t=Je(t,w+(1<<17)));w<A;)t[w]=t[w++-F],t[w]=t[w++-F],t[w]=t[w++-F],t[w]=t[w++-F];w=A}}}else{0!=(7&y)&&(y+=8-(7&y));var O=4+(y>>>3),_=e[O-4]|e[O-3]<<8;a&&(t=Je(t,w+_)),t.set(new n(e.buffer,e.byteOffset+O,_),w),y=O+_<<3,w+=_}return t.length==w?t:t.slice(0,w)}(e,t)}const ut={numWorkers:1,workerURL:"",useWorkers:!1};let ft=0;const dt=[];function pt(e){return new Promise(((t,n)=>{const r=new Worker(e);r.onmessage=e=>{"start"===e.data?(r.onerror=void 0,r.onmessage=void 0,t(r)):n(new Error(`unexpected message: ${e.data}`))},r.onerror=n}))}function mt(e,t,n,r){const o=new Uint8Array(t);lt(e,o),r(n?new Blob([o],{type:n}):o.buffer)}function ht(e,t,n){return new Promise(((r,o)=>{dt.push({src:e,uncompressedSize:t,type:n,resolve:r,reject:o,id:ft++}),async function(){if(0!==dt.length)for(;dt.length;){const{src:e,uncompressedSize:t,type:n,resolve:r}=dt.shift();let o=e;Ye(e)&&(o=await He(e)),mt(o,t,n,r)}}()}))}!function(){if(Xe){const{Worker:n}=(e=module,t="worker_threads",e.require(t));return{createWorker:async e=>new n(e),addEventListener(e,t){e.on("message",(n=>{t({target:e,data:n})}))},async terminate(e){await e.terminate()}}}return{async createWorker(e){try{return await pt(e)}catch(t){console.warn("could not load worker:",e)}let t;try{const n=await fetch(e,{mode:"cors"});if(!n.ok)throw new Error(`could not load: ${e}`);t=await n.text(),e=URL.createObjectURL(new Blob([t],{type:"application/javascript"}));const r=await pt(e);return ut.workerURL=e,r}catch(t){console.warn("could not load worker via fetch:",e)}if(void 0!==t)try{e=`data:application/javascript;base64,${btoa(t)}`;const n=await pt(e);return ut.workerURL=e,n}catch(e){console.warn("could not load worker via dataURI")}throw console.warn("workers will not be used"),new Error("can not start workers")},addEventListener(e,t){e.addEventListener("message",t)},async terminate(e){e.terminate()}};var e,t}();class gt{constructor(e,t){var n,r;this._reader=e,this._rawEntry=t,this.name=t.name,this.nameBytes=t.nameBytes,this.size=t.uncompressedSize,this.compressedSize=t.compressedSize,this.comment=t.comment,this.commentBytes=t.commentBytes,this.compressionMethod=t.compressionMethod,this.lastModDate=(n=t.lastModFileDate,r=t.lastModFileTime,new Date(1980+(n>>9&127),(n>>5&15)-1,31&n,r>>11&31,r>>5&63,2*(31&r),0)),this.isDirectory=0===t.uncompressedSize&&t.name.endsWith("/"),this.encrypted=!!(1&t.generalPurposeBitFlag),this.externalFileAttributes=t.externalFileAttributes,this.versionMadeBy=t.versionMadeBy}async blob(e="application/octet-stream"){return await async function(e,t,n){const{decompress:r,fileDataStart:o}=await St(e,t);if(!r){const r=await yt(e,o,t.compressedSize,n);return Ye(r)?r:new Blob([We(r.buffer)?new Uint8Array(r):r],{type:n})}const i=await yt(e,o,t.compressedSize);return await ht(i,t.uncompressedSize,n)}(this._reader,this._rawEntry,e)}async arrayBuffer(){return await async function(e,t){const{decompress:n,fileDataStart:r}=await St(e,t);if(!n){const n=await wt(e,r,t.compressedSize);return 0===(o=n).byteOffset&&o.byteLength===o.buffer.byteLength?n.buffer:n.slice().buffer}var o;const i=await yt(e,r,t.compressedSize);return await ht(i,t.uncompressedSize)}(this._reader,this._rawEntry)}async text(){const e=await this.arrayBuffer();return Et(new Uint8Array(e))}async json(){const e=await this.text();return JSON.parse(e)}}async function wt(e,t,n){return await e.read(t,n)}async function yt(e,t,n,r){return e.sliceAsBlob?await e.sliceAsBlob(t,n,r):await e.read(t,n)}const vt={unsigned:()=>0};function bt(e,t){return e[t]+256*e[t+1]}function $t(e,t){return e[t]+256*e[t+1]+65536*e[t+2]+16777216*e[t+3]}function xt(e,t){return $t(e,t)+4294967296*$t(e,t+4)}const kt=new TextDecoder;function Et(e,t){return We(e.buffer)&&(e=new Uint8Array(e)),kt.decode(e)}async function zt(e,t,n,r){const o=t-20,i=await wt(e,o,20);if(117853008!==$t(i,0))throw new Error("invalid zip64 end of central directory locator signature");const s=xt(i,8),a=await wt(e,s,56);if(101075792!==$t(a,0))throw new Error("invalid zip64 end of central directory record signature");const c=xt(a,32),l=xt(a,40);return At(e,xt(a,48),l,c,n,r)}async function At(e,t,n,r,o,i){let s=0;const a=await wt(e,t,n),c=[];for(let e=0;e<r;++e){const e=a.subarray(s,s+46),t=$t(e,0);if(33639248!==t)throw new Error(`invalid central directory file header signature: 0x${t.toString(16)}`);const n={versionMadeBy:bt(e,4),versionNeededToExtract:bt(e,6),generalPurposeBitFlag:bt(e,8),compressionMethod:bt(e,10),lastModFileTime:bt(e,12),lastModFileDate:bt(e,14),crc32:$t(e,16),compressedSize:$t(e,20),uncompressedSize:$t(e,24),fileNameLength:bt(e,28),extraFieldLength:bt(e,30),fileCommentLength:bt(e,32),internalFileAttributes:bt(e,36),externalFileAttributes:$t(e,38),relativeOffsetOfLocalHeader:$t(e,42)};if(64&n.generalPurposeBitFlag)throw new Error("strong encryption is not supported");s+=46;const r=a.subarray(s,s+n.fileNameLength+n.extraFieldLength+n.fileCommentLength);n.nameBytes=r.slice(0,n.fileNameLength),n.name=Et(n.nameBytes);const o=n.fileNameLength+n.extraFieldLength,i=r.slice(n.fileNameLength,o);n.extraFields=[];let l=0;for(;l<i.length-3;){const e=bt(i,l+0),t=l+4,r=t+bt(i,l+2);if(r>i.length)throw new Error("extra field length exceeds extra field buffer size");n.extraFields.push({id:e,data:i.slice(t,r)}),l=r}if(n.commentBytes=r.slice(o,o+n.fileCommentLength),n.comment=Et(n.commentBytes),s+=r.length,4294967295===n.uncompressedSize||4294967295===n.compressedSize||4294967295===n.relativeOffsetOfLocalHeader){const e=n.extraFields.find((e=>1===e.id));if(!e)throw new Error("expected zip64 extended information extra field");const t=e.data;let r=0;if(4294967295===n.uncompressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include uncompressed size");n.uncompressedSize=xt(t,r),r+=8}if(4294967295===n.compressedSize){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include compressed size");n.compressedSize=xt(t,r),r+=8}if(4294967295===n.relativeOffsetOfLocalHeader){if(r+8>t.length)throw new Error("zip64 extended information extra field does not include relative header offset");n.relativeOffsetOfLocalHeader=xt(t,r),r+=8}}const u=n.extraFields.find((e=>28789===e.id&&e.data.length>=6&&1===e.data[0]&&$t(e.data,1)),vt.unsigned(n.nameBytes));if(u&&(n.fileName=Et(u.data.slice(5))),0===n.compressionMethod){let e=n.uncompressedSize;if(0!=(1&n.generalPurposeBitFlag)&&(e+=12),n.compressedSize!==e)throw new Error(`compressed size mismatch for stored file: ${n.compressedSize} != ${e}`)}c.push(n)}return{zip:{comment:o,commentBytes:i},entries:c.map((t=>new gt(e,t)))}}async function St(e,t){if(1&t.generalPurposeBitFlag)throw new Error("encrypted entries not supported");const n=await wt(e,t.relativeOffsetOfLocalHeader,30),r=await e.getLength(),o=$t(n,0);if(67324752!==o)throw new Error(`invalid local file header signature: 0x${o.toString(16)}`);const i=bt(n,26),s=bt(n,28),a=t.relativeOffsetOfLocalHeader+n.length+i+s;let c;if(0===t.compressionMethod)c=!1;else{if(8!==t.compressionMethod)throw new Error(`unsupported compression method: ${t.compressionMethod}`);c=!0}const l=a,u=l+t.compressedSize;if(0!==t.compressedSize&&u>r)throw new Error(`file data overflows file bounds: ${l} +  ${t.compressedSize}  > ${r}`);return{decompress:c,fileDataStart:l}}async function Lt(e){let t;if("undefined"!=typeof Blob&&e instanceof Blob)t=new Qe(e);else if(e instanceof ArrayBuffer||e&&e.buffer&&e.buffer instanceof ArrayBuffer)t=new Ge(e);else if(We(e)||We(e.buffer))t=new Ge(e);else if("string"==typeof e){const n=await fetch(e);if(!n.ok)throw new Error(`failed http request ${e}, status: ${n.status}: ${n.statusText}`);const r=await n.blob();t=new Qe(r)}else{if("function"!=typeof e.getLength||"function"!=typeof e.read)throw new Error("unsupported source type");t=e}const n=await t.getLength();if(n>Number.MAX_SAFE_INTEGER)throw new Error(`file too large. size: ${n}. Only file sizes up 4503599627370496 bytes are supported`);return await async function(e,t){const n=Math.min(65557,t),r=t-n,o=await wt(e,r,n);for(let t=n-22;t>=0;--t){if(101010256!==$t(o,t))continue;const n=new Uint8Array(o.buffer,o.byteOffset+t,o.byteLength-t),i=bt(n,4);if(0!==i)throw new Error(`multi-volume zip files are not supported. This is volume: ${i}`);const s=bt(n,10),a=$t(n,12),c=$t(n,16),l=bt(n,20),u=n.length-22;if(l!==u)throw new Error(`invalid comment length. expected: ${u}, actual: ${l}`);const f=new Uint8Array(n.buffer,n.byteOffset+22,l),d=Et(f);return 65535===s||4294967295===c?await zt(e,r+t,d,f):await At(e,c,a,s,d,f)}throw new Error("could not find end of central directory. maybe not zip file")}(t,n)}function Pt(t){let n;return{c(){n=y("div"),n.textContent="There's no next page.",E(n,"class","d-flex align-items-center justify-content-center font-size-24 font-weight-bold w-full h-full")},m(e,t){g(e,n,t)},p:e,d(e){e&&w(n)}}}function Bt(e){let t;function n(e,t){return"fit"!==e[0].mode?Ot:Ft}let r=n(e),o=r(e);return{c(){o.c(),t=$()},m(e,n){o.m(e,n),g(e,t,n)},p(e,i){r===(r=n(e))&&o?o.p(e,i):(o.d(1),o=r(e),o&&(o.c(),o.m(t.parentNode,t)))},d(e){o.d(e),e&&w(t)}}}function Ft(e){let t,n,o,i,s;return{c(){t=y("div"),n=y("img"),c(n.src,o=e[2])||E(n,"src",o),E(n,"alt","view"),E(n,"class","w-full h-full position-absolute svelte-1vatcdv"),A(n,"transition",e[3]),E(t,"class","w-full h-full overflow-hidden position-relative dragarea svelte-1vatcdv")},m(r,o){g(r,t,o),h(t,n),e[13](n),i||(s=[x(n,"load",e[9]),x(t,"pointerdown",e[4]),x(t,"pointerup",e[5]),x(t,"wheel",e[8],{passive:!0}),x(t,"touchend",e[5]),x(t,"touchstart",e[6]),x(t,"touchmove",e[7])],i=!0)},p(e,t){4&t&&!c(n.src,o=e[2])&&E(n,"src",o),8&t&&A(n,"transition",e[3])},d(n){n&&w(t),e[13](null),i=!1,r(s)}}}function Ot(e){let t,n;return{c(){t=y("img"),c(t.src,n=e[2])||E(t,"src",n),E(t,"alt","view"),E(t,"class","w-full svelte-1vatcdv")},m(e,n){g(e,t,n)},p(e,r){4&r&&!c(t.src,n=e[2])&&E(t,"src",n)},d(e){e&&w(t)}}}function _t(t){let n;function r(e,t){return e[2]?Bt:Pt}let o=r(t),i=o(t);return{c(){i.c(),n=$()},m(e,t){i.m(e,t),g(e,n,t)},p(e,[t]){o===(o=r(e))&&i?i.p(e,t):(i.d(1),i=o(e),i&&(i.c(),i.m(n.parentNode,n)))},i:e,o:e,d(e){i.d(e),e&&w(n)}}}function Mt(e,t,n){let{file:r=null}=t;L((()=>{URL.revokeObjectURL(s)}));let{options:o={}}=t,i=null,s=null,a=0,c=!0;const l={x:0,y:0},u={x:0,y:0},f={x:0,y:0};let d=l;function p(e){m||(f.x=u.x+e.clientX-l.x,f.y=u.y+e.clientY-l.y,n(11,d=f))}let m=!1;let h=0,g=0;let w=1;function y({deltaY:e}){if("fit"===o.mode){const t=-.01*e;t<0?(a<-4||(a-=.5),u.x/=1.5,u.y/=1.5):t>0&&!(a>11)&&(a+=.5,u.x*=1.5,u.y*=1.5),n(12,w=2**a),n(11,d=u)}}return e.$$set=e=>{"file"in e&&n(10,r=e.file),"options"in e&&n(0,o=e.options)},e.$$.update=()=>{1024&e.$$.dirty&&async function(e){if(!s&&e){const t=await e.blob();n(2,s=URL.createObjectURL(t))}}(r),1&e.$$.dirty&&(u.x=0,u.y=0,a=0,n(12,w=1),n(11,d=u)),6144&e.$$.dirty&&function({disPos:e,zoom:t}){i?.style.setProperty("transform",`scale(${t})`),i?.style.setProperty("--left",e.x+"px"),i?.style.setProperty("--top",e.y+"px")}({disPos:d,zoom:w})},[o,i,s,c,function(e){"fit"===o.mode&&(n(3,c=!1),l.x=e.clientX,l.y=e.clientY,n(1,i.onpointermove=p,i),e.pointerId&&i.setPointerCapture(e.pointerId))},function(e){i.onpointermove&&(n(3,c=!0),n(1,i.onpointermove=null,i),e.pointerId&&i.releasePointerCapture(e.pointerId),m?(m=!1,h=0):(u.x+=e.clientX-l.x,u.y+=e.clientY-l.y))},function({touches:e}){"fit"===o.mode&&2===e.length&&(m=!0,n(3,c=!0))},function({touches:e}){if(2===e.length&&!0===m){const t=h;h=Math.hypot(e[0].pageX-e[1].pageX,e[0].pageY-e[1].pageY),g+=t-h,(g>20||g<-20)&&(y({deltaY:g>0?100:-100}),g=0)}},y,function(e){},r,d,w,function(e){F[e?"unshift":"push"]((()=>{i=e,n(1,i)}))}]}class jt extends re{constructor(e){super(),ne(this,e,Mt,_t,i,{file:10,options:0})}}function It(e,t,n){const r=e.slice();return r[10]=t[n].item,r[11]=t[n].index,r}const Ut=e=>({item:16&e}),Nt=e=>({item:e[10]});function Rt(e){let t,n,r=[],o=new Map,i=e[4];const s=e=>e[11];for(let t=0;t<i.length;t+=1){let n=It(e,i,t),a=s(n);o.set(a,r[t]=Ct(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);g(e,t,o),n=!0},p(e,n){285&n&&(i=e[4],H(),r=J(r,n,s,1,e,i,o,t.parentNode,Q,Ct,t,It),Y())},i(e){if(!n){for(let e=0;e<i.length;e+=1)W(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)X(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&w(t)}}}function Ct(e,t){let n,r,i,s,a,c;const u=t[9].default,v=l(u,t,t[8],Nt);return{key:e,first:null,c(){n=y("div"),v&&v.c(),r=b(),E(n,"class","item w-full h-full overflow-y-auto svelte-ym67ze"),A(n,"prev",t[2]),A(n,"next",t[3]),this.first=n},m(e,o){g(e,n,o),v&&v.m(n,null),h(n,r),s=!0,a||(c=m(i=Tt.call(null,n,t[0]===t[11])),a=!0)},p(e,r){t=e,v&&v.p&&(!s||272&r)&&d(v,u,t,t[8],s?f(u,t[8],r,Ut):p(t[8]),Nt),i&&o(i.update)&&17&r&&i.update.call(null,t[0]===t[11]),4&r&&A(n,"prev",t[2]),8&r&&A(n,"next",t[3])},i(e){s||(W(v,e),s=!0)},o(e){X(v,e),s=!1},d(e){e&&w(n),v&&v.d(e),a=!1,c()}}}function Dt(e){let t,n,r=e[1]&&Rt(e);return{c(){t=y("div"),r&&r.c(),E(t,"class","h-full d-flex flex-row-reverse overflow-x-hidden")},m(e,o){g(e,t,o),r&&r.m(t,null),n=!0},p(e,[n]){e[1]?r?(r.p(e,n),2&n&&W(r,1)):(r=Rt(e),r.c(),W(r,1),r.m(t,null)):r&&(H(),X(r,1,1,(()=>{r=null})),Y())},i(e){n||(W(r),n=!0)},o(e){X(r),n=!1},d(e){e&&w(t),r&&r.d()}}}function Tt(e){return{update(t){t&&e.focus()}}}function qt(e,t,n){let r,o,{$$slots:i={},$$scope:s}=t,{currentIndex:a=0}=t,{items:c=[]}=t,l=!1,u=!1;return e.$$set=e=>{"currentIndex"in e&&n(0,a=e.currentIndex),"items"in e&&n(5,c=e.items),"$$scope"in e&&n(8,s=e.$$scope)},e.$$.update=()=>{32&e.$$.dirty&&n(1,r=c.length),35&e.$$.dirty&&n(4,o=[-1,0,1].map((e=>a+e<=r?{item:c[a+e],index:a+e}:{item:!1})).filter((e=>!1!==e.item)))},[a,r,l,u,o,c,function(){!u&&!l&&a<r&&(n(3,u=!0),setTimeout((()=>{n(0,a+=1),n(3,u=!1)}),200))},function(){!u&&!l&&a>0&&(n(2,l=!0),setTimeout((()=>{n(0,a-=1),n(2,l=!1)}),200))},s,i]}class Ht extends re{constructor(e){super(),ne(this,e,qt,Dt,i,{currentIndex:0,items:5,gotoNext:6,gotoPrev:7})}get gotoNext(){return this.$$.ctx[6]}get gotoPrev(){return this.$$.ctx[7]}}function Yt(e,t,n){const r=e.slice();return r[10]=t[n].item,r[11]=t[n].index,r}const Wt=e=>({item:4&e}),Xt=e=>({item:e[10]});function Gt(e){let t,n,r=[],o=new Map,i=e[2];const s=e=>e[11];for(let t=0;t<i.length;t+=1){let n=Yt(e,i,t),a=s(n);o.set(a,r[t]=Qt(a,n))}return{c(){for(let e=0;e<r.length;e+=1)r[e].c();t=$()},m(e,o){for(let t=0;t<r.length;t+=1)r[t].m(e,o);g(e,t,o),n=!0},p(e,n){68&n&&(i=e[2],H(),r=J(r,n,s,1,e,i,o,t.parentNode,Q,Qt,t,Yt),Y())},i(e){if(!n){for(let e=0;e<i.length;e+=1)W(r[e]);n=!0}},o(e){for(let e=0;e<r.length;e+=1)X(r[e]);n=!1},d(e){for(let t=0;t<r.length;t+=1)r[t].d(e);e&&w(t)}}}function Qt(e,t){let n,r,o,i,s;const a=t[7].default,c=l(a,t,t[6],Xt);return{key:e,first:null,c(){n=y("div"),c&&c.c(),r=b(),E(n,"class","w-full"),this.first=n},m(e,a){g(e,n,a),c&&c.m(n,null),h(n,r),o=!0,i||(s=m(t[3].call(null,n)),i=!0)},p(e,n){t=e,c&&c.p&&(!o||68&n)&&d(c,a,t,t[6],o?f(a,t[6],n,Wt):p(t[6]),Xt)},i(e){o||(W(c,e),o=!0)},o(e){X(c,e),o=!1},d(e){e&&w(n),c&&c.d(e),i=!1,s()}}}function Jt(e){let t,n,r=e[0].length&&Gt(e);return{c(){t=y("div"),r&&r.c(),E(t,"class","h-full d-flex flex-column overflow-x-hidden overflow-y-auto")},m(o,i){g(o,t,i),r&&r.m(t,null),e[8](t),n=!0},p(e,[n]){e[0].length?r?(r.p(e,n),1&n&&W(r,1)):(r=Gt(e),r.c(),W(r,1),r.m(t,null)):r&&(H(),X(r,1,1,(()=>{r=null})),Y())},i(e){n||(W(r),n=!0)},o(e){X(r),n=!1},d(n){n&&w(t),r&&r.d(),e[8](null)}}}function Vt(e,t,n){let r,{$$slots:o={},$$scope:i}=t,s={},{items:a=[]}=t,{currentIndex:c=0}=t,l=1;const u=new IntersectionObserver((e=>{const t=[...s.children];for(const r of e){const e=t.indexOf(r.target);r.isIntersecting?(0===e&&n(4,c=Math.max(0,c-1)),e===t.length-1&&n(5,++l)):(t.length>2&&1===e&&n(4,++c),e>1&&e!==t.length-1&&n(5,l=Math.max(1,l-1)))}}));return e.$$set=e=>{"items"in e&&n(0,a=e.items),"currentIndex"in e&&n(4,c=e.currentIndex),"$$scope"in e&&n(6,i=e.$$scope)},e.$$.update=()=>{49&e.$$.dirty&&n(2,r=a.slice(c,c+l).map((e=>({index:a.indexOf(e),item:e}))))},[a,s,r,function(e){return u.observe(e),{destroy(){u.unobserve(e)}}},c,l,i,o,function(e){F[e?"unshift":"push"]((()=>{s=e,n(1,s)}))}]}class Kt extends re{constructor(e){super(),ne(this,e,Vt,Jt,i,{items:0,currentIndex:4})}}const{window:Zt}=G;function en(e){let t,n,o,i,s,a,c,l,u,f,d,p,m,$,k,S,L,P,B=e[3].crop?"crop":"crop_free";const F=[rn,nn],O=[];function _(e,t){return"vertical"===e[3].mode?0:1}t=_(e),n=O[t]=F[t](e);let M="vertical"!==e[3].mode&&an(e);return{c(){n.c(),o=b(),i=y("div"),M&&M.c(),s=b(),a=y("div"),c=y("button"),c.textContent="zoom_out_map",l=b(),u=y("button"),u.textContent="expand",f=b(),d=y("button"),d.textContent="height",p=b(),m=y("div"),$=y("button"),k=v(B),E(c,"class","btn btn-lg btn-square material-icons"),E(c,"type","button"),E(u,"class","btn btn-lg btn-square material-icons"),E(u,"type","button"),E(d,"class","btn btn-lg btn-square material-icons"),E(d,"type","button"),E(a,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto"),E($,"class","btn btn-lg btn-square material-icons"),E($,"type","button"),E(m,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto"),E(i,"class","position-absolute buttons row w-full justify-content-center controls svelte-1x2rqc2"),A(i,"immersed",e[4])},m(n,r){O[t].m(n,r),g(n,o,r),g(n,i,r),M&&M.m(i,null),h(i,s),h(i,a),h(a,c),h(a,l),h(a,u),h(a,f),h(a,d),h(i,p),h(i,m),h(m,$),h($,k),S=!0,L||(P=[x(c,"click",e[22]),x(u,"click",e[23]),x(d,"click",e[24]),x($,"click",e[25])],L=!0)},p(e,r){let a=t;t=_(e),t===a?O[t].p(e,r):(H(),X(O[a],1,1,(()=>{O[a]=null})),Y(),n=O[t],n?n.p(e,r):(n=O[t]=F[t](e),n.c()),W(n,1),n.m(o.parentNode,o)),"vertical"!==e[3].mode?M?M.p(e,r):(M=an(e),M.c(),M.m(i,s)):M&&(M.d(1),M=null),(!S||8&r)&&B!==(B=e[3].crop?"crop":"crop_free")&&z(k,B),16&r&&A(i,"immersed",e[4])},i(e){S||(W(n),S=!0)},o(e){X(n),S=!1},d(e){O[t].d(e),e&&w(o),e&&w(i),M&&M.d(),L=!1,r(P)}}}function tn(e){let t,n,r;function o(t){e[17](t)}let i={handlePopup:e[9]};return void 0!==e[0]&&(i.files=e[0]),t=new Ne({props:i}),F.push((()=>V(t,"files",o))),{c(){K(t.$$.fragment)},m(e,n){Z(t,e,n),r=!0},p(e,r){const o={};!n&&1&r&&(n=!0,o.files=e[0],U((()=>n=!1))),t.$set(o)},i(e){r||(W(t.$$.fragment,e),r=!0)},o(e){X(t.$$.fragment,e),r=!1},d(e){ee(t,e)}}}function nn(e){let t,n,r,o,i;function s(t){e[19](t)}function a(t){e[20](t)}function c(t){e[21](t)}let l={items:e[2],$$slots:{default:[on,({item:e})=>({28:e}),({item:e})=>e?268435456:0]},$$scope:{ctx:e}};return void 0!==e[5]&&(l.gotoNext=e[5]),void 0!==e[6]&&(l.gotoPrev=e[6]),void 0!==e[7]&&(l.currentIndex=e[7]),t=new Ht({props:l}),F.push((()=>V(t,"gotoNext",s))),F.push((()=>V(t,"gotoPrev",a))),F.push((()=>V(t,"currentIndex",c))),{c(){K(t.$$.fragment)},m(e,n){Z(t,e,n),i=!0},p(e,i){const s={};4&i&&(s.items=e[2]),805306376&i&&(s.$$scope={dirty:i,ctx:e}),!n&&32&i&&(n=!0,s.gotoNext=e[5],U((()=>n=!1))),!r&&64&i&&(r=!0,s.gotoPrev=e[6],U((()=>r=!1))),!o&&128&i&&(o=!0,s.currentIndex=e[7],U((()=>o=!1))),t.$set(s)},i(e){i||(W(t.$$.fragment,e),i=!0)},o(e){X(t.$$.fragment,e),i=!1},d(e){ee(t,e)}}}function rn(e){let t,n,r;function o(t){e[18](t)}let i={items:e[2],$$slots:{default:[sn,({item:e})=>({28:e}),({item:e})=>e?268435456:0]},$$scope:{ctx:e}};return void 0!==e[7]&&(i.currentIndex=e[7]),t=new Kt({props:i}),F.push((()=>V(t,"currentIndex",o))),{c(){K(t.$$.fragment)},m(e,n){Z(t,e,n),r=!0},p(e,r){const o={};4&r&&(o.items=e[2]),805306376&r&&(o.$$scope={dirty:r,ctx:e}),!n&&128&r&&(n=!0,o.currentIndex=e[7],U((()=>n=!1))),t.$set(o)},i(e){r||(W(t.$$.fragment,e),r=!0)},o(e){X(t.$$.fragment,e),r=!1},d(e){ee(t,e)}}}function on(e){let t,n;return t=new jt({props:{file:e[28],options:e[3]}}),{c(){K(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};268435456&n&&(r.file=e[28]),8&n&&(r.options=e[3]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function sn(e){let t,n;return t=new jt({props:{file:e[28],options:e[3]}}),{c(){K(t.$$.fragment)},m(e,r){Z(t,e,r),n=!0},p(e,n){const r={};268435456&n&&(r.file=e[28]),8&n&&(r.options=e[3]),t.$set(r)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ee(t,e)}}}function an(e){let t,n,i,s,a,c;return{c(){t=y("div"),n=y("button"),n.textContent="arrow_back",i=b(),s=y("button"),s.textContent="arrow_forward",E(n,"class","btn btn-lg btn-square material-icons"),E(n,"type","button"),E(s,"class","btn btn-lg btn-square material-icons"),E(s,"type","button"),E(t,"class","btn-group bg-dark-dm bg-light-lm rounded m-5 col-auto")},m(r,l){g(r,t,l),h(t,n),h(t,i),h(t,s),a||(c=[x(n,"click",(function(){o(e[5])&&e[5].apply(this,arguments)})),x(s,"click",(function(){o(e[6])&&e[6].apply(this,arguments)}))],a=!0)},p(t,n){e=t},d(e){e&&w(t),a=!1,r(c)}}}function cn(e){let t,n,o,i,s,a,c,l,u,f;n=new ae({});const d=[tn,en],p=[];function m(e,t){return e[2].length?1:0}return i=m(e),s=p[i]=d[i](e),document.title=c=e[1],{c(){t=y("div"),K(n.$$.fragment),o=b(),s.c(),a=b(),E(t,"class","sticky-alerts d-flex flex-column-reverse svelte-1x2rqc2")},m(r,s){g(r,t,s),Z(n,t,null),g(r,o,s),p[i].m(r,s),g(r,a,s),l=!0,u||(f=[x(Zt,"drop",k(e[8])),x(Zt,"dragenter",k(e[13])),x(Zt,"dragover",k(e[14])),x(Zt,"dragstart",k(e[15])),x(Zt,"dragleave",k(e[16])),x(Zt,"paste",k(e[8])),x(Zt,"keydown",e[12]),x(Zt,"mousemove",e[11]),x(Zt,"touchmove",e[11]),x(Zt,"mouseleave",e[10])],u=!0)},p(e,[t]){let n=i;i=m(e),i===n?p[i].p(e,t):(H(),X(p[n],1,1,(()=>{p[n]=null})),Y(),s=p[i],s?s.p(e,t):(s=p[i]=d[i](e),s.c()),W(s,1),s.m(a.parentNode,a)),(!l||2&t)&&c!==(c=e[1])&&(document.title=c)},i(e){l||(W(n.$$.fragment,e),W(s),l=!0)},o(e){X(n.$$.fragment,e),X(s),l=!1},d(e){e&&w(t),ee(n),e&&w(o),p[i].d(e),e&&w(a),u=!1,r(f)}}}function ln(e,t,n){_e=be("manga-reader","recents"),ke("recents",_e).then((e=>{Me=e||[]}));let r="Manga Reader",o=[],i={mode:"cover",crop:!0,pad:!1};navigator.serviceWorker.register("/sw.js"),"launchQueue"in window&&async function(){return new Promise((e=>{launchQueue.setConsumer((async t=>{if(!t.files.length)return;const n=t.files.map((e=>(Ie([e]),e.getFile())));e((await Promise.all(n)).filter(((e,t,n)=>n.findIndex((t=>t.name===e.name&&t.size===e.size&&t.lastModified===e.lastModified))===t)))}))}))}().then(a);let s=[];async function a(e){e?.length&&(n(2,o=Object.values((await async function(e){const{zip:t,entries:n}=await Lt(e);return{zip:t,entries:Object.fromEntries(n.map((e=>[e.name,e])))}}(e[0])).entries).filter((e=>!e.isDirectory))),n(1,r=e[0].name.match(/([^-–]+)/)[0].trim()),n(7,p=0))}a(function(e){const t=[...new URLSearchParams(location.search)];if(!t.length)return null;const n=[];for(const r of t)if(e.find((e=>r[1].match(Ce[e])))){const e=r[1].substring(Math.max(r[1].lastIndexOf("\\")+2,r[1].lastIndexOf("/")+1));n.push({name:e,url:r[1]})}return n}(["book"]));let c,l,u=!1,f=null;function d(){n(4,u=!0),f=void 0}let p=0;return e.$$.update=()=>{1&e.$$.dirty&&a(s)},[s,r,o,i,u,c,l,p,async function({dataTransfer:e,clipboardData:t}){const n=t?.items||e?.items;n&&a(await Re(n,["book"]))},async function(){o.length||a(await async function(e=[]){if("FileSystemFileHandle"in window){const t=await window.showOpenFilePicker({types:[{description:e.join(", "),accept:{"*/*":e.map((e=>De[e].map((e=>"."+e)))).flat()}}],multiple:!0});return Ie(t),await Promise.all(t.map((e=>e.getFile())))}return new Promise((t=>{let n=document.createElement("input");n.type="file",n.multiple="multiple",n.accept=e.map((e=>"."+De[e].join(",."))).flat(),n.onchange=async({target:e})=>{t([...e.files]),n=null},n.click()}))}(["book"]))},d,function(){f?clearTimeout(f):n(4,u=!1),f=setTimeout(d,2e3)},async function({key:e}){switch(e){case"ArrowLeft":c();break;case"ArrowRight":l()}},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(t){P.call(this,e,t)},function(e){s=e,n(0,s)},function(e){p=e,n(7,p)},function(e){c=e,n(5,c)},function(e){l=e,n(6,l)},function(e){p=e,n(7,p)},()=>n(3,i.mode="fit",i),()=>n(3,i.mode="cover",i),()=>n(3,i.mode="vertical",i),()=>n(3,i.crop=!i.crop,i)]}return new class extends re{constructor(e){super(),ne(this,e,ln,cn,i,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
